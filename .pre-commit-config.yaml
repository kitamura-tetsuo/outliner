# .pre-commit-config.yaml
repos:
  # ① 既存フックがあればそのまま残す
  # ② “local” リポでカスタムフックを定義
  - repo: local
    hooks:
      - id: remove-feature-map
        name: Remove feature-map.md before commit
        language: script
        entry: ./scripts/remove_feature_map.sh
        pass_filenames: false
        always_run: true
        stages: [pre-commit]
      - id: feature-map
        name: Update feature docs
        language: python
        entry: python ./scripts/update_feature_docs.py
        pass_filenames: false # ファイル一覧をスクリプトに渡さない
        always_run: true # 変更がなくても毎回実行
        stages: [pre-commit] # commit 時のみ
        additional_dependencies: # スクリプトが import するパッケージ
          - loguru
          - PyYAML
