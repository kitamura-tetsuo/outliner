[debug] [2025-05-23T14:25:21.291Z] ----------------------------------------------------------------------
[debug] [2025-05-23T14:25:21.295Z] Command:       /usr/local/bin/node /usr/local/share/npm-global/bin/firebase emulators:start --inspect-functions=9229 --only functions,hosting
[debug] [2025-05-23T14:25:21.296Z] CLI Version:   14.4.0
[debug] [2025-05-23T14:25:21.297Z] Platform:      linux
[debug] [2025-05-23T14:25:21.297Z] Node Version:  v22.15.0
[debug] [2025-05-23T14:25:21.298Z] Time:          Fri May 23 2025 14:25:21 GMT+0000 (Coordinated Universal Time)
[debug] [2025-05-23T14:25:21.298Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-23T14:25:21.302Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2025-05-23T14:25:21.778Z] Field "/functions" in "firebase.json" is possibly invalid: must be object
[debug] [2025-05-23T14:25:21.779Z] Object "/functions/0" in "firebase.json" has unknown property: {"additionalProperty":"v2"}
[debug] [2025-05-23T14:25:21.779Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-05-23T14:25:21.784Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] Failed to authenticate, have you run firebase login?
[warn] ⚠  emulators: You are not currently authenticated so some features may not work correctly. Please run firebase login to authenticate the CLI. 
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2025-05-23T14:25:21.819Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-23T14:25:21.820Z] assigned listening specs for emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-05-23T14:25:21.825Z] [hub] writing locator at /tmp/hub-outliner-d57b0.json
[debug] [2025-05-23T14:25:21.834Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-23T14:25:21.834Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-23T14:25:21.834Z] late-assigned ports for functions and eventarc emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":57070}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel. {"metadata":{"emulator":{"name":"functions"},"message":"You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel."}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-05-23T14:25:21.837Z] No OAuth tokens found
[debug] [2025-05-23T14:25:21.838Z] No OAuth tokens found
[debug] [2025-05-23T14:25:21.838Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-23T14:25:21.838Z] Failed to get Admin SDK config for outliner-d57b0, falling back to cache Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to authenticate, have you run \u001b[1mfirebase login\u001b[22m?","original":{},"status":500},"status":500}
[warn] ⚠  functions: Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect."}}
[debug] [2025-05-23T14:25:21.850Z] No OAuth tokens found
[debug] [2025-05-23T14:25:21.850Z] No OAuth tokens found
[debug] [2025-05-23T14:25:21.850Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-23T14:25:21.851Z] Failed to list hosting sites
[debug] Failed to authenticate, have you run firebase login?
[debug] [2025-05-23T14:25:21.851Z] No OAuth tokens found
[debug] [2025-05-23T14:25:21.852Z] No OAuth tokens found
[debug] [2025-05-23T14:25:21.852Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-23T14:25:21.852Z] fetchWebSetup error: FirebaseError: Failed to authenticate, have you run firebase login?
[warn] ⚠  hosting: Could not fetch web app configuration and there is no cached configuration on this machine. Check your internet connection and make sure you are authenticated. To continue, you must call firebase.initializeApp({...}) in your code before using Firebase. 
[debug] [2025-05-23T14:25:21.853Z] No OAuth tokens found
[debug] [2025-05-23T14:25:21.853Z] No OAuth tokens found
[debug] [2025-05-23T14:25:21.854Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-23T14:25:21.854Z] Failed to authenticate, have you run firebase login? (original: Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.)
[info] i  hosting[outliner-d57b0]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting[outliner-d57b0]: Local server: http://127.0.0.1:57000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:57000\u001b[22m\u001b[24m"}}
[info] i  ui: downloading ui-v1.15.0.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.15.0.zip..."}}
[debug] [2025-05-23T14:25:21.874Z] >>> [apiv2][query] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.15.0.zip 
[debug] [2025-05-23T14:25:22.074Z] <<< [apiv2][status] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.15.0.zip 200
[debug] [2025-05-23T14:25:22.075Z] <<< [apiv2][body] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.15.0.zip [stream]
[debug] [2025-05-23T14:25:22.153Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2025-05-23T14:25:22.154Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2025-05-23T14:25:22.243Z] Data is 3538469
[debug] [2025-05-23T14:25:22.244Z] [unzip] Entry: client/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2025-05-23T14:25:22.244Z] [unzip] Processing entry: client/
[debug] [2025-05-23T14:25:22.244Z] [unzip] mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/
[debug] [2025-05-23T14:25:22.245Z] [unzip] Entry: client/favicon-16x16.png (compressed_size=293 bytes, uncompressed_size=293 bytes)
[debug] [2025-05-23T14:25:22.246Z] [unzip] Processing entry: client/favicon-16x16.png
[debug] [2025-05-23T14:25:22.246Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.246Z] [unzip] Writing file: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/favicon-16x16.png
[debug] [2025-05-23T14:25:22.247Z] [unzip] Entry: client/safari-pinned-tab.svg (compressed_size=1433 bytes, uncompressed_size=2611 bytes)
[debug] [2025-05-23T14:25:22.247Z] [unzip] Processing entry: client/safari-pinned-tab.svg
[debug] [2025-05-23T14:25:22.248Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.248Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/safari-pinned-tab.svg
[debug] [2025-05-23T14:25:22.252Z] [unzip] Entry: client/favicon.ico (compressed_size=2933 bytes, uncompressed_size=13294 bytes)
[debug] [2025-05-23T14:25:22.253Z] [unzip] Processing entry: client/favicon.ico
[debug] [2025-05-23T14:25:22.253Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.253Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/favicon.ico
[debug] [2025-05-23T14:25:22.256Z] [unzip] Entry: client/index.html (compressed_size=1364 bytes, uncompressed_size=3071 bytes)
[debug] [2025-05-23T14:25:22.257Z] [unzip] Processing entry: client/index.html
[debug] [2025-05-23T14:25:22.257Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.257Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/index.html
[debug] [2025-05-23T14:25:22.260Z] [unzip] Entry: client/android-chrome-192x192.png (compressed_size=2684 bytes, uncompressed_size=2684 bytes)
[debug] [2025-05-23T14:25:22.260Z] [unzip] Processing entry: client/android-chrome-192x192.png
[debug] [2025-05-23T14:25:22.260Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.261Z] [unzip] Writing file: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/android-chrome-192x192.png
[debug] [2025-05-23T14:25:22.262Z] [unzip] Entry: client/apple-touch-icon.png (compressed_size=2123 bytes, uncompressed_size=2152 bytes)
[debug] [2025-05-23T14:25:22.262Z] [unzip] Processing entry: client/apple-touch-icon.png
[debug] [2025-05-23T14:25:22.262Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.263Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/apple-touch-icon.png
[debug] [2025-05-23T14:25:22.264Z] [unzip] Entry: client/android-chrome-512x512.png (compressed_size=5369 bytes, uncompressed_size=5411 bytes)
[debug] [2025-05-23T14:25:22.265Z] [unzip] Processing entry: client/android-chrome-512x512.png
[debug] [2025-05-23T14:25:22.265Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.266Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/android-chrome-512x512.png
[debug] [2025-05-23T14:25:22.269Z] [unzip] Entry: client/manifest.json (compressed_size=245 bytes, uncompressed_size=551 bytes)
[debug] [2025-05-23T14:25:22.270Z] [unzip] Processing entry: client/manifest.json
[debug] [2025-05-23T14:25:22.270Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.270Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/manifest.json
[debug] [2025-05-23T14:25:22.272Z] [unzip] Entry: client/robots.txt (compressed_size=26 bytes, uncompressed_size=26 bytes)
[debug] [2025-05-23T14:25:22.273Z] [unzip] Processing entry: client/robots.txt
[debug] [2025-05-23T14:25:22.273Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.273Z] [unzip] Writing file: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/robots.txt
[debug] [2025-05-23T14:25:22.274Z] [unzip] Entry: client/mstile-150x150.png (compressed_size=2034 bytes, uncompressed_size=2034 bytes)
[debug] [2025-05-23T14:25:22.274Z] [unzip] Processing entry: client/mstile-150x150.png
[debug] [2025-05-23T14:25:22.275Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.275Z] [unzip] Writing file: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/mstile-150x150.png
[debug] [2025-05-23T14:25:22.276Z] [unzip] Entry: client/assets/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2025-05-23T14:25:22.276Z] [unzip] Processing entry: client/assets/
[debug] [2025-05-23T14:25:22.276Z] [unzip] mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/
[debug] [2025-05-23T14:25:22.277Z] [unzip] Entry: client/assets/index-BX-A56oj.js (compressed_size=582089 bytes, uncompressed_size=2092775 bytes)
[debug] [2025-05-23T14:25:22.277Z] [unzip] Processing entry: client/assets/index-BX-A56oj.js
[debug] [2025-05-23T14:25:22.277Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets
[debug] [2025-05-23T14:25:22.277Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/index-BX-A56oj.js
[debug] [2025-05-23T14:25:22.308Z] [unzip] Entry: client/assets/index-CjB9C900.css (compressed_size=35979 bytes, uncompressed_size=298654 bytes)
[debug] [2025-05-23T14:25:22.308Z] [unzip] Processing entry: client/assets/index-CjB9C900.css
[debug] [2025-05-23T14:25:22.308Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets
[debug] [2025-05-23T14:25:22.309Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/index-CjB9C900.css
[debug] [2025-05-23T14:25:22.316Z] [unzip] Entry: client/assets/index-BX-A56oj.js.map (compressed_size=2362482 bytes, uncompressed_size=10036679 bytes)
[debug] [2025-05-23T14:25:22.316Z] [unzip] Processing entry: client/assets/index-BX-A56oj.js.map
[debug] [2025-05-23T14:25:22.316Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets
[debug] [2025-05-23T14:25:22.319Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/index-BX-A56oj.js.map
[debug] [2025-05-23T14:25:22.416Z] [unzip] Entry: client/assets/extensions/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2025-05-23T14:25:22.417Z] [unzip] Processing entry: client/assets/extensions/
[debug] [2025-05-23T14:25:22.418Z] [unzip] mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/extensions/
[debug] [2025-05-23T14:25:22.418Z] [unzip] Entry: client/assets/extensions/default-extension.png (compressed_size=1646 bytes, uncompressed_size=1657 bytes)
[debug] [2025-05-23T14:25:22.419Z] [unzip] Processing entry: client/assets/extensions/default-extension.png
[debug] [2025-05-23T14:25:22.419Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/extensions
[debug] [2025-05-23T14:25:22.420Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/extensions/default-extension.png
[debug] [2025-05-23T14:25:22.424Z] [unzip] Entry: client/assets/img/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2025-05-23T14:25:22.424Z] [unzip] Processing entry: client/assets/img/
[debug] [2025-05-23T14:25:22.424Z] [unzip] mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/img/
[debug] [2025-05-23T14:25:22.425Z] [unzip] Entry: client/assets/img/database.png (compressed_size=29449 bytes, uncompressed_size=29988 bytes)
[debug] [2025-05-23T14:25:22.425Z] [unzip] Processing entry: client/assets/img/database.png
[debug] [2025-05-23T14:25:22.425Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/img
[debug] [2025-05-23T14:25:22.426Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/img/database.png
[debug] [2025-05-23T14:25:22.428Z] [unzip] Entry: client/assets/provider-icons/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2025-05-23T14:25:22.428Z] [unzip] Processing entry: client/assets/provider-icons/
[debug] [2025-05-23T14:25:22.428Z] [unzip] mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/
[debug] [2025-05-23T14:25:22.429Z] [unzip] Entry: client/assets/provider-icons/auth_service_saml.svg (compressed_size=575 bytes, uncompressed_size=1226 bytes)
[debug] [2025-05-23T14:25:22.429Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_saml.svg
[debug] [2025-05-23T14:25:22.429Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.430Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_saml.svg
[debug] [2025-05-23T14:25:22.431Z] [unzip] Entry: client/assets/provider-icons/auth_service_phone.svg (compressed_size=261 bytes, uncompressed_size=414 bytes)
[debug] [2025-05-23T14:25:22.432Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_phone.svg
[debug] [2025-05-23T14:25:22.432Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.432Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_phone.svg
[debug] [2025-05-23T14:25:22.434Z] [unzip] Entry: client/assets/provider-icons/auth_service_facebook.svg (compressed_size=289 bytes, uncompressed_size=457 bytes)
[debug] [2025-05-23T14:25:22.434Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_facebook.svg
[debug] [2025-05-23T14:25:22.435Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.435Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_facebook.svg
[debug] [2025-05-23T14:25:22.437Z] [unzip] Entry: client/assets/provider-icons/auth_service_game_center.svg (compressed_size=991 bytes, uncompressed_size=3921 bytes)
[debug] [2025-05-23T14:25:22.438Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_game_center.svg
[debug] [2025-05-23T14:25:22.438Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.438Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_game_center.svg
[debug] [2025-05-23T14:25:22.440Z] [unzip] Entry: client/assets/provider-icons/auth_service_apple.svg (compressed_size=230 bytes, uncompressed_size=334 bytes)
[debug] [2025-05-23T14:25:22.441Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_apple.svg
[debug] [2025-05-23T14:25:22.441Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.441Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_apple.svg
[debug] [2025-05-23T14:25:22.443Z] [unzip] Entry: client/assets/provider-icons/auth_service_github.svg (compressed_size=466 bytes, uncompressed_size=838 bytes)
[debug] [2025-05-23T14:25:22.444Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_github.svg
[debug] [2025-05-23T14:25:22.444Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.444Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_github.svg
[debug] [2025-05-23T14:25:22.446Z] [unzip] Entry: client/assets/provider-icons/auth_service_mslive.svg (compressed_size=203 bytes, uncompressed_size=378 bytes)
[debug] [2025-05-23T14:25:22.447Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_mslive.svg
[debug] [2025-05-23T14:25:22.447Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.447Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_mslive.svg
[debug] [2025-05-23T14:25:22.449Z] [unzip] Entry: client/assets/provider-icons/auth_service_yahoo.svg (compressed_size=577 bytes, uncompressed_size=1182 bytes)
[debug] [2025-05-23T14:25:22.449Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_yahoo.svg
[debug] [2025-05-23T14:25:22.450Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.450Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_yahoo.svg
[debug] [2025-05-23T14:25:22.451Z] [unzip] Entry: client/assets/provider-icons/auth_service_twitter.svg (compressed_size=444 bytes, uncompressed_size=751 bytes)
[debug] [2025-05-23T14:25:22.452Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_twitter.svg
[debug] [2025-05-23T14:25:22.452Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.452Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_twitter.svg
[debug] [2025-05-23T14:25:22.454Z] [unzip] Entry: client/assets/provider-icons/auth_service_play_games.svg (compressed_size=565 bytes, uncompressed_size=1173 bytes)
[debug] [2025-05-23T14:25:22.455Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_play_games.svg
[debug] [2025-05-23T14:25:22.455Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.455Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_play_games.svg
[debug] [2025-05-23T14:25:22.457Z] [unzip] Entry: client/assets/provider-icons/auth_service_email.svg (compressed_size=228 bytes, uncompressed_size=326 bytes)
[debug] [2025-05-23T14:25:22.457Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_email.svg
[debug] [2025-05-23T14:25:22.457Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.458Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_email.svg
[debug] [2025-05-23T14:25:22.459Z] [unzip] Entry: client/assets/provider-icons/auth_service_google.svg (compressed_size=409 bytes, uncompressed_size=720 bytes)
[debug] [2025-05-23T14:25:22.460Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_google.svg
[debug] [2025-05-23T14:25:22.460Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.460Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_google.svg
[debug] [2025-05-23T14:25:22.462Z] [unzip] Entry: client/assets/provider-icons/auth_service_oidc.svg (compressed_size=414 bytes, uncompressed_size=858 bytes)
[debug] [2025-05-23T14:25:22.462Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_oidc.svg
[debug] [2025-05-23T14:25:22.462Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons
[debug] [2025-05-23T14:25:22.463Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/assets/provider-icons/auth_service_oidc.svg
[debug] [2025-05-23T14:25:22.465Z] [unzip] Entry: client/browserconfig.xml (compressed_size=491 bytes, uncompressed_size=822 bytes)
[debug] [2025-05-23T14:25:22.465Z] [unzip] Processing entry: client/browserconfig.xml
[debug] [2025-05-23T14:25:22.465Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.466Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/browserconfig.xml
[debug] [2025-05-23T14:25:22.467Z] [unzip] Entry: client/favicon-32x32.png (compressed_size=475 bytes, uncompressed_size=475 bytes)
[debug] [2025-05-23T14:25:22.468Z] [unzip] Processing entry: client/favicon-32x32.png
[debug] [2025-05-23T14:25:22.468Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/client
[debug] [2025-05-23T14:25:22.468Z] [unzip] Writing file: /home/node/.cache/firebase/emulators/ui-v1.15.0/client/favicon-32x32.png
[debug] [2025-05-23T14:25:22.469Z] [unzip] Entry: server/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2025-05-23T14:25:22.469Z] [unzip] Processing entry: server/
[debug] [2025-05-23T14:25:22.469Z] [unzip] mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/server/
[debug] [2025-05-23T14:25:22.470Z] [unzip] Entry: server/server.mjs.map (compressed_size=217845 bytes, uncompressed_size=944978 bytes)
[debug] [2025-05-23T14:25:22.470Z] [unzip] Processing entry: server/server.mjs.map
[debug] [2025-05-23T14:25:22.470Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/server
[debug] [2025-05-23T14:25:22.470Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/server/server.mjs.map
[debug] [2025-05-23T14:25:22.478Z] [unzip] Entry: server/server.mjs (compressed_size=276407 bytes, uncompressed_size=933701 bytes)
[debug] [2025-05-23T14:25:22.479Z] [unzip] Processing entry: server/server.mjs
[debug] [2025-05-23T14:25:22.479Z] [unzip] else mkdir: /home/node/.cache/firebase/emulators/ui-v1.15.0/server
[debug] [2025-05-23T14:25:22.482Z] [unzip] deflating: /home/node/.cache/firebase/emulators/ui-v1.15.0/server/server.mjs
[info] i  functions: Watching "/workspace/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/workspace/functions\" for Cloud Functions..."}}
[debug] [2025-05-23T14:25:22.500Z] Validating nodejs source
[debug] [2025-05-23T14:25:23.510Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Firebase Cloud Functions for Outliner",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "echo 'No build step required for JavaScript functions'",
    "debug": "firebase --debug emulators:start --inspect-functions=9229 --only functions"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "@fluidframework/azure-client": "^2.0.0",
    "@fluidframework/azure-service-utils": "^1.1.0",
    "cors": "^2.8.5",
    "dotenv": "^16.5.0",
    "firebase": "^11.8.1",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "jsonwebtoken": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-05-23T14:25:23.513Z] Building nodejs source
[debug] [2025-05-23T14:25:23.514Z] Failed to find version of module node: reached end of search path /workspace/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-23T14:25:23.525Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-23T14:25:23.531Z] Found firebase-functions binary at '/workspace/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8768

[info] {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"}

[debug] [2025-05-23T14:25:24.566Z] Got response from /__/functions.yaml {"endpoints":{"fluidToken":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"fluidToken"},"saveContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveContainer"},"getUserContainers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUserContainers"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteUser"},"deleteContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteContainer"},"health":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"health"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{},"params":[{"name":"AZURE_TENANT_ID","type":"string"},{"name":"AZURE_ENDPOINT","type":"string"},{"name":"AZURE_PRIMARY_KEY","type":"string"},{"name":"AZURE_SECONDARY_KEY","type":"string"},{"name":"AZURE_ACTIVE_KEY","type":"string"}]}
[info] ✔  functions: Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health."}}
[info] ✔  functions[us-central1-fluidToken]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken)."}}
[info] ✔  functions[us-central1-saveContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer)."}}
[info] ✔  functions[us-central1-getUserContainers]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers)."}}
[info] ✔  functions[us-central1-deleteUser]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser)."}}
[info] ✔  functions[us-central1-deleteContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer)."}}
[info] ✔  functions[us-central1-health]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health)."}}
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-23T14:25:28.641Z] [worker-pool] addWorker(~shared~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~shared~)"}}
[debug] [2025-05-23T14:25:28.643Z] [worker-pool] Adding worker with key ~free~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~free~, total=1"}}
[info] >  Debugger attached. {"user":"Debugger attached.","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Debugger attached."}}
[debug] [2025-05-23T14:25:30.027Z] [runtime-status] [60918] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-23T14:25:30.029Z] [runtime-status] [60918] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-23T14:25:30.030Z] [runtime-status] [60918] Found local functions config: /workspace/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Found local functions config: /workspace/functions/.runtimeconfig.json"}}
[debug] [2025-05-23T14:25:30.030Z] [runtime-status] [60918] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-05-23T14:25:30.031Z] [runtime-status] [60918] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-23T14:25:30.392Z] [runtime-status] [60918] Checked functions.config() {"config":{"azure":{"tenant_id":"90c5dda7-fbf3-4db1-ae18-b4e963142c29","endpoint":"https://us.fluidrelay.azure.com","primary_key":"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB","secondary_key":"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ","active_key":"primary"}}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Checked functions.config() {\"config\":{\"azure\":{\"tenant_id\":\"90c5dda7-fbf3-4db1-ae18-b4e963142c29\",\"endpoint\":\"https://us.fluidrelay.azure.com\",\"primary_key\":\"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB\",\"secondary_key\":\"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ\",\"active_key\":\"primary\"}}}"}}
[debug] [2025-05-23T14:25:30.392Z] [runtime-status] [60918] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-05-23T14:25:30.394Z] [runtime-status] [60918] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-23T14:25:30.399Z] [runtime-status] [60918] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-23T14:25:30.402Z] [runtime-status] [60918] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-23T14:25:30.405Z] [runtime-status] [60918] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-05-23T14:25:31.197Z] [runtime-status] [60918] initializeApp(DEFAULT) {"storageBucket":"outliner-d57b0.appspot.com","databaseURL":"https://outliner-d57b0.firebaseio.com","projectId":"outliner-d57b0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] initializeApp(DEFAULT) {\"storageBucket\":\"outliner-d57b0.appspot.com\",\"databaseURL\":\"https://outliner-d57b0.firebaseio.com\",\"projectId\":\"outliner-d57b0\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[info] >  {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"} {"user":{"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"tenantId\":\"params.AZURE_TENANT_ID\",\"endpoint\":\"params.AZURE_ENDPOINT\",\"primaryKeyExists\":true,\"secondaryKeyExists\":true,\"activeKey\":\"params.AZURE_ACTIVE_KEY\",\"severity\":\"INFO\",\"message\":\"Azure Fluid Relay設定:\"}"}}
[debug] [2025-05-23T14:25:31.208Z] [runtime-status] [60918] Functions runtime initialized. {"cwd":"/workspace/functions","node_version":"22.15.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Functions runtime initialized. {\"cwd\":\"/workspace/functions\",\"node_version\":\"22.15.0\"}"}}
[debug] [2025-05-23T14:25:31.208Z] [runtime-status] [60918] Listening to port: /tmp/fire_emu_84d2efd53a15c0f4.sock {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [60918] Listening to port: /tmp/fire_emu_84d2efd53a15c0f4.sock"}}
[debug] [2025-05-23T14:25:31.298Z] [worker-~free~-8c94e07e-d2aa-4e7a-9e4d-38452ce8e462]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-8c94e07e-d2aa-4e7a-9e4d-38452ce8e462]: IDLE"}}
[debug] [2025-05-23T14:25:31.302Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:54000/              │
└─────────────────────────────────────────────────────────────┘

┌───────────┬─────────────────┬──────────────────────────────────┐
│ Emulator  │ Host:Port       │ View in Emulator UI              │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Functions │ 127.0.0.1:57070 │ http://127.0.0.1:54000/functions │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Hosting   │ 127.0.0.1:57000 │ n/a                              │
└───────────┴─────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-05-23T14:26:07.356Z] ----------------------------------------------------------------------
[debug] [2025-05-23T14:26:07.360Z] Command:       /usr/local/bin/node /usr/local/share/npm-global/bin/firebase emulators:start --inspect-functions=9229 --only functions,hosting
[debug] [2025-05-23T14:26:07.361Z] CLI Version:   14.4.0
[debug] [2025-05-23T14:26:07.361Z] Platform:      linux
[debug] [2025-05-23T14:26:07.361Z] Node Version:  v22.15.0
[debug] [2025-05-23T14:26:07.362Z] Time:          Fri May 23 2025 14:26:07 GMT+0000 (Coordinated Universal Time)
[debug] [2025-05-23T14:26:07.362Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-23T14:26:07.758Z] Field "/functions" in "firebase.json" is possibly invalid: must be object
[debug] [2025-05-23T14:26:07.759Z] Object "/functions/0" in "firebase.json" has unknown property: {"additionalProperty":"v2"}
[debug] [2025-05-23T14:26:07.759Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-05-23T14:26:07.764Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] Failed to authenticate, have you run firebase login?
[warn] ⚠  emulators: You are not currently authenticated so some features may not work correctly. Please run firebase login to authenticate the CLI. 
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2025-05-23T14:26:07.857Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-23T14:26:07.858Z] assigned listening specs for emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[warn] ⚠  emulators: It seems that you are running multiple instances of the emulator suite for project outliner-d57b0. This may result in unexpected behavior. 
[debug] [2025-05-23T14:26:07.864Z] [hub] writing locator at /tmp/hub-outliner-d57b0.json
[debug] [2025-05-23T14:26:08.053Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-23T14:26:08.058Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-23T14:26:08.059Z] late-assigned ports for functions and eventarc emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":57070}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel. {"metadata":{"emulator":{"name":"functions"},"message":"You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel."}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-05-23T14:26:08.065Z] No OAuth tokens found
[debug] [2025-05-23T14:26:08.066Z] No OAuth tokens found
[debug] [2025-05-23T14:26:08.066Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-23T14:26:08.067Z] Failed to get Admin SDK config for outliner-d57b0, falling back to cache Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to authenticate, have you run \u001b[1mfirebase login\u001b[22m?","original":{},"status":500},"status":500}
[warn] ⚠  functions: Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect."}}
[debug] [2025-05-23T14:26:08.081Z] No OAuth tokens found
[debug] [2025-05-23T14:26:08.082Z] No OAuth tokens found
[debug] [2025-05-23T14:26:08.082Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-23T14:26:08.083Z] Failed to list hosting sites
[debug] Failed to authenticate, have you run firebase login?
[debug] [2025-05-23T14:26:08.083Z] No OAuth tokens found
[debug] [2025-05-23T14:26:08.084Z] No OAuth tokens found
[debug] [2025-05-23T14:26:08.084Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-23T14:26:08.084Z] fetchWebSetup error: FirebaseError: Failed to authenticate, have you run firebase login?
[warn] ⚠  hosting: Could not fetch web app configuration and there is no cached configuration on this machine. Check your internet connection and make sure you are authenticated. To continue, you must call firebase.initializeApp({...}) in your code before using Firebase. 
[debug] [2025-05-23T14:26:08.086Z] No OAuth tokens found
[debug] [2025-05-23T14:26:08.086Z] No OAuth tokens found
[debug] [2025-05-23T14:26:08.086Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-23T14:26:08.087Z] Failed to authenticate, have you run firebase login? (original: Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.)
[info] i  hosting[outliner-d57b0]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting[outliner-d57b0]: Local server: http://127.0.0.1:57000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:57000\u001b[22m\u001b[24m"}}
[info] i  functions: Watching "/workspace/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/workspace/functions\" for Cloud Functions..."}}
[debug] [2025-05-23T14:26:08.118Z] Validating nodejs source
[debug] [2025-05-23T14:26:09.283Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Firebase Cloud Functions for Outliner",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "echo 'No build step required for JavaScript functions'",
    "debug": "firebase --debug emulators:start --inspect-functions=9229 --only functions"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "@fluidframework/azure-client": "^2.0.0",
    "@fluidframework/azure-service-utils": "^1.1.0",
    "cors": "^2.8.5",
    "dotenv": "^16.5.0",
    "firebase": "^11.8.1",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "jsonwebtoken": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-05-23T14:26:09.284Z] Building nodejs source
[debug] [2025-05-23T14:26:09.284Z] Failed to find version of module node: reached end of search path /workspace/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-23T14:26:09.292Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-23T14:26:09.297Z] Found firebase-functions binary at '/workspace/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8226

[info] {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"}

[debug] [2025-05-23T14:26:10.338Z] Got response from /__/functions.yaml {"endpoints":{"fluidToken":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"fluidToken"},"saveContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveContainer"},"getUserContainers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUserContainers"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteUser"},"deleteContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteContainer"},"health":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"health"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{},"params":[{"name":"AZURE_TENANT_ID","type":"string"},{"name":"AZURE_ENDPOINT","type":"string"},{"name":"AZURE_PRIMARY_KEY","type":"string"},{"name":"AZURE_SECONDARY_KEY","type":"string"},{"name":"AZURE_ACTIVE_KEY","type":"string"}]}
[info] ✔  functions: Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health."}}
[info] ✔  functions[us-central1-fluidToken]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken)."}}
[info] ✔  functions[us-central1-saveContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer)."}}
[info] ✔  functions[us-central1-getUserContainers]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers)."}}
[info] ✔  functions[us-central1-deleteUser]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser)."}}
[info] ✔  functions[us-central1-deleteContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer)."}}
[info] ✔  functions[us-central1-health]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health)."}}
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-23T14:26:14.394Z] [worker-pool] addWorker(~shared~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~shared~)"}}
[debug] [2025-05-23T14:26:14.396Z] [worker-pool] Adding worker with key ~free~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~free~, total=1"}}
[info] >  Debugger attached. {"user":"Debugger attached.","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Debugger attached."}}
[debug] [2025-05-23T14:26:15.635Z] [runtime-status] [61969] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-23T14:26:15.636Z] [runtime-status] [61969] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-23T14:26:15.636Z] [runtime-status] [61969] Found local functions config: /workspace/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Found local functions config: /workspace/functions/.runtimeconfig.json"}}
[debug] [2025-05-23T14:26:15.637Z] [runtime-status] [61969] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-05-23T14:26:15.637Z] [runtime-status] [61969] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-23T14:26:15.914Z] [runtime-status] [61969] Checked functions.config() {"config":{"azure":{"tenant_id":"90c5dda7-fbf3-4db1-ae18-b4e963142c29","endpoint":"https://us.fluidrelay.azure.com","primary_key":"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB","secondary_key":"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ","active_key":"primary"}}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Checked functions.config() {\"config\":{\"azure\":{\"tenant_id\":\"90c5dda7-fbf3-4db1-ae18-b4e963142c29\",\"endpoint\":\"https://us.fluidrelay.azure.com\",\"primary_key\":\"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB\",\"secondary_key\":\"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ\",\"active_key\":\"primary\"}}}"}}
[debug] [2025-05-23T14:26:15.915Z] [runtime-status] [61969] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-05-23T14:26:15.916Z] [runtime-status] [61969] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-23T14:26:15.919Z] [runtime-status] [61969] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-23T14:26:15.920Z] [runtime-status] [61969] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-23T14:26:15.921Z] [runtime-status] [61969] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-05-23T14:26:16.663Z] [runtime-status] [61969] initializeApp(DEFAULT) {"storageBucket":"outliner-d57b0.appspot.com","databaseURL":"https://outliner-d57b0.firebaseio.com","projectId":"outliner-d57b0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] initializeApp(DEFAULT) {\"storageBucket\":\"outliner-d57b0.appspot.com\",\"databaseURL\":\"https://outliner-d57b0.firebaseio.com\",\"projectId\":\"outliner-d57b0\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[info] >  {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"} {"user":{"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"tenantId\":\"params.AZURE_TENANT_ID\",\"endpoint\":\"params.AZURE_ENDPOINT\",\"primaryKeyExists\":true,\"secondaryKeyExists\":true,\"activeKey\":\"params.AZURE_ACTIVE_KEY\",\"severity\":\"INFO\",\"message\":\"Azure Fluid Relay設定:\"}"}}
[debug] [2025-05-23T14:26:16.675Z] [runtime-status] [61969] Functions runtime initialized. {"cwd":"/workspace/functions","node_version":"22.15.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Functions runtime initialized. {\"cwd\":\"/workspace/functions\",\"node_version\":\"22.15.0\"}"}}
[debug] [2025-05-23T14:26:16.676Z] [runtime-status] [61969] Listening to port: /tmp/fire_emu_98c58c85589bd306.sock {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [61969] Listening to port: /tmp/fire_emu_98c58c85589bd306.sock"}}
[debug] [2025-05-23T14:26:16.746Z] [worker-~free~-8ca7cbc2-9c52-4cd4-892a-e24bcd047fcf]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-8ca7cbc2-9c52-4cd4-892a-e24bcd047fcf]: IDLE"}}
[debug] [2025-05-23T14:26:16.750Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:54000/              │
└─────────────────────────────────────────────────────────────┘

┌───────────┬─────────────────┬──────────────────────────────────┐
│ Emulator  │ Host:Port       │ View in Emulator UI              │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Functions │ 127.0.0.1:57070 │ http://127.0.0.1:54000/functions │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Hosting   │ 127.0.0.1:57000 │ n/a                              │
└───────────┴─────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-05-24T10:46:24.061Z] ----------------------------------------------------------------------
[debug] [2025-05-24T10:46:24.064Z] Command:       /usr/local/bin/node /usr/local/share/npm-global/bin/firebase emulators:start --inspect-functions=9229 --only functions,hosting
[debug] [2025-05-24T10:46:24.065Z] CLI Version:   14.4.0
[debug] [2025-05-24T10:46:24.065Z] Platform:      linux
[debug] [2025-05-24T10:46:24.065Z] Node Version:  v22.15.0
[debug] [2025-05-24T10:46:24.066Z] Time:          Sat May 24 2025 10:46:24 GMT+0000 (Coordinated Universal Time)
[debug] [2025-05-24T10:46:24.066Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-24T10:46:24.416Z] Field "/functions" in "firebase.json" is possibly invalid: must be object
[debug] [2025-05-24T10:46:24.416Z] Object "/functions/0" in "firebase.json" has unknown property: {"additionalProperty":"v2"}
[debug] [2025-05-24T10:46:24.417Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-05-24T10:46:24.421Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] Failed to authenticate, have you run firebase login?
[warn] ⚠  emulators: You are not currently authenticated so some features may not work correctly. Please run firebase login to authenticate the CLI. 
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2025-05-24T10:46:24.466Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-24T10:46:24.467Z] assigned listening specs for emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[warn] ⚠  emulators: It seems that you are running multiple instances of the emulator suite for project outliner-d57b0. This may result in unexpected behavior. 
[debug] [2025-05-24T10:46:24.472Z] [hub] writing locator at /tmp/hub-outliner-d57b0.json
[debug] [2025-05-24T10:46:24.478Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-24T10:46:24.478Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-24T10:46:24.479Z] late-assigned ports for functions and eventarc emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":57070}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel. {"metadata":{"emulator":{"name":"functions"},"message":"You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel."}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-05-24T10:46:24.482Z] No OAuth tokens found
[debug] [2025-05-24T10:46:24.482Z] No OAuth tokens found
[debug] [2025-05-24T10:46:24.482Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-24T10:46:24.483Z] Failed to get Admin SDK config for outliner-d57b0, falling back to cache Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to authenticate, have you run \u001b[1mfirebase login\u001b[22m?","original":{},"status":500},"status":500}
[warn] ⚠  functions: Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect."}}
[debug] [2025-05-24T10:46:24.495Z] No OAuth tokens found
[debug] [2025-05-24T10:46:24.495Z] No OAuth tokens found
[debug] [2025-05-24T10:46:24.496Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-24T10:46:24.497Z] Failed to list hosting sites
[debug] Failed to authenticate, have you run firebase login?
[debug] [2025-05-24T10:46:24.497Z] No OAuth tokens found
[debug] [2025-05-24T10:46:24.498Z] No OAuth tokens found
[debug] [2025-05-24T10:46:24.498Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-24T10:46:24.498Z] fetchWebSetup error: FirebaseError: Failed to authenticate, have you run firebase login?
[warn] ⚠  hosting: Could not fetch web app configuration and there is no cached configuration on this machine. Check your internet connection and make sure you are authenticated. To continue, you must call firebase.initializeApp({...}) in your code before using Firebase. 
[debug] [2025-05-24T10:46:24.500Z] No OAuth tokens found
[debug] [2025-05-24T10:46:24.500Z] No OAuth tokens found
[debug] [2025-05-24T10:46:24.501Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-24T10:46:24.501Z] Failed to authenticate, have you run firebase login? (original: Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.)
[info] i  hosting[outliner-d57b0]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting[outliner-d57b0]: Local server: http://127.0.0.1:57000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:57000\u001b[22m\u001b[24m"}}
[info] i  functions: Watching "/workspace/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/workspace/functions\" for Cloud Functions..."}}
[debug] [2025-05-24T10:46:24.531Z] Validating nodejs source
[debug] [2025-05-24T10:46:25.799Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Firebase Cloud Functions for Outliner",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "echo 'No build step required for JavaScript functions'",
    "debug": "firebase --debug emulators:start --inspect-functions=9229 --only functions"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "@fluidframework/azure-client": "^2.0.0",
    "@fluidframework/azure-service-utils": "^1.1.0",
    "cors": "^2.8.5",
    "dotenv": "^16.5.0",
    "firebase": "^11.8.1",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "jsonwebtoken": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-05-24T10:46:25.799Z] Building nodejs source
[debug] [2025-05-24T10:46:25.802Z] Failed to find version of module node: reached end of search path /workspace/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-24T10:46:25.817Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-24T10:46:25.824Z] Found firebase-functions binary at '/workspace/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8121

[info] {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"}

[debug] [2025-05-24T10:46:26.926Z] Got response from /__/functions.yaml {"endpoints":{"fluidToken":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"fluidToken"},"saveContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveContainer"},"getUserContainers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUserContainers"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteUser"},"deleteContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteContainer"},"health":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"health"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{},"params":[{"name":"AZURE_TENANT_ID","type":"string"},{"name":"AZURE_ENDPOINT","type":"string"},{"name":"AZURE_PRIMARY_KEY","type":"string"},{"name":"AZURE_SECONDARY_KEY","type":"string"},{"name":"AZURE_ACTIVE_KEY","type":"string"}]}
[info] ✔  functions: Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health."}}
[info] ✔  functions[us-central1-fluidToken]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken)."}}
[info] ✔  functions[us-central1-saveContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer)."}}
[info] ✔  functions[us-central1-getUserContainers]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers)."}}
[info] ✔  functions[us-central1-deleteUser]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser)."}}
[info] ✔  functions[us-central1-deleteContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer)."}}
[info] ✔  functions[us-central1-health]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health)."}}
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-24T10:46:30.974Z] [worker-pool] addWorker(~shared~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~shared~)"}}
[debug] [2025-05-24T10:46:30.976Z] [worker-pool] Adding worker with key ~free~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~free~, total=1"}}
[info] >  Starting inspector on 127.0.0.1:9229 failed: address already in use {"user":"Starting inspector on 127.0.0.1:9229 failed: address already in use","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Starting inspector on 127.0.0.1:9229 failed: address already in use"}}
[info] >  Debugger attached. {"user":"Debugger attached.","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Debugger attached."}}
[debug] [2025-05-24T10:46:32.299Z] [runtime-status] [140007] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-24T10:46:32.299Z] [runtime-status] [140007] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-24T10:46:32.300Z] [runtime-status] [140007] Found local functions config: /workspace/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Found local functions config: /workspace/functions/.runtimeconfig.json"}}
[debug] [2025-05-24T10:46:32.301Z] [runtime-status] [140007] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-05-24T10:46:32.301Z] [runtime-status] [140007] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-24T10:46:32.570Z] [runtime-status] [140007] Checked functions.config() {"config":{"azure":{"tenant_id":"90c5dda7-fbf3-4db1-ae18-b4e963142c29","endpoint":"https://us.fluidrelay.azure.com","primary_key":"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB","secondary_key":"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ","active_key":"primary"}}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Checked functions.config() {\"config\":{\"azure\":{\"tenant_id\":\"90c5dda7-fbf3-4db1-ae18-b4e963142c29\",\"endpoint\":\"https://us.fluidrelay.azure.com\",\"primary_key\":\"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB\",\"secondary_key\":\"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ\",\"active_key\":\"primary\"}}}"}}
[debug] [2025-05-24T10:46:32.571Z] [runtime-status] [140007] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-05-24T10:46:32.571Z] [runtime-status] [140007] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-24T10:46:32.574Z] [runtime-status] [140007] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-24T10:46:32.576Z] [runtime-status] [140007] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-24T10:46:32.577Z] [runtime-status] [140007] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-05-24T10:46:33.323Z] [runtime-status] [140007] initializeApp(DEFAULT) {"storageBucket":"outliner-d57b0.appspot.com","databaseURL":"https://outliner-d57b0.firebaseio.com","projectId":"outliner-d57b0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] initializeApp(DEFAULT) {\"storageBucket\":\"outliner-d57b0.appspot.com\",\"databaseURL\":\"https://outliner-d57b0.firebaseio.com\",\"projectId\":\"outliner-d57b0\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[info] >  {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"} {"user":{"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"tenantId\":\"params.AZURE_TENANT_ID\",\"endpoint\":\"params.AZURE_ENDPOINT\",\"primaryKeyExists\":true,\"secondaryKeyExists\":true,\"activeKey\":\"params.AZURE_ACTIVE_KEY\",\"severity\":\"INFO\",\"message\":\"Azure Fluid Relay設定:\"}"}}
[debug] [2025-05-24T10:46:33.334Z] [runtime-status] [140007] Functions runtime initialized. {"cwd":"/workspace/functions","node_version":"22.15.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Functions runtime initialized. {\"cwd\":\"/workspace/functions\",\"node_version\":\"22.15.0\"}"}}
[debug] [2025-05-24T10:46:33.334Z] [runtime-status] [140007] Listening to port: /tmp/fire_emu_71b0ddc1c3f5685c.sock {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [140007] Listening to port: /tmp/fire_emu_71b0ddc1c3f5685c.sock"}}
[debug] [2025-05-24T10:46:33.423Z] [worker-~free~-d8a7f7df-494d-4001-b9b8-027d84c7492f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-d8a7f7df-494d-4001-b9b8-027d84c7492f]: IDLE"}}
[debug] [2025-05-24T10:46:33.427Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:54000/              │
└─────────────────────────────────────────────────────────────┘

┌───────────┬─────────────────┬──────────────────────────────────┐
│ Emulator  │ Host:Port       │ View in Emulator UI              │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Functions │ 127.0.0.1:57070 │ http://127.0.0.1:54000/functions │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Hosting   │ 127.0.0.1:57000 │ n/a                              │
└───────────┴─────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[info] i  hosting: 127.0.0.1 - - [24/May/2025:10:46:35 +0000] "OPTIONS /api/create-test-user HTTP/1.1" 200 - "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [24/May/2025:10:46:35 +0000] \"OPTIONS /api/create-test-user HTTP/1.1\" 200 - \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [24/May/2025:10:53:51 +0000] "OPTIONS /api/create-test-user HTTP/1.1" 200 - "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [24/May/2025:10:53:51 +0000] \"OPTIONS /api/create-test-user HTTP/1.1\" 200 - \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [24/May/2025:10:53:52 +0000] "OPTIONS /api/create-test-user HTTP/1.1" 200 - "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [24/May/2025:10:53:52 +0000] \"OPTIONS /api/create-test-user HTTP/1.1\" 200 - \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [24/May/2025:10:59:32 +0000] "OPTIONS /api/create-test-user HTTP/1.1" 200 - "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [24/May/2025:10:59:32 +0000] \"OPTIONS /api/create-test-user HTTP/1.1\" 200 - \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [24/May/2025:10:59:32 +0000] "OPTIONS /api/create-test-user HTTP/1.1" 200 - "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [24/May/2025:10:59:32 +0000] \"OPTIONS /api/create-test-user HTTP/1.1\" 200 - \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[debug] [2025-05-25T08:37:39.608Z] ----------------------------------------------------------------------
[debug] [2025-05-25T08:37:39.617Z] Command:       /usr/local/bin/node /usr/local/share/npm-global/bin/firebase emulators:start --inspect-functions=9229 --only functions,hosting
[debug] [2025-05-25T08:37:39.619Z] CLI Version:   14.4.0
[debug] [2025-05-25T08:37:39.619Z] Platform:      linux
[debug] [2025-05-25T08:37:39.621Z] Node Version:  v22.15.0
[debug] [2025-05-25T08:37:39.623Z] Time:          Sun May 25 2025 08:37:39 GMT+0000 (Coordinated Universal Time)
[debug] [2025-05-25T08:37:39.623Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-25T08:37:39.631Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2025-05-25T08:37:40.291Z] Field "/functions" in "firebase.json" is possibly invalid: must be object
[debug] [2025-05-25T08:37:40.292Z] Object "/functions/0" in "firebase.json" has unknown property: {"additionalProperty":"v2"}
[debug] [2025-05-25T08:37:40.293Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-05-25T08:37:40.300Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] Failed to authenticate, have you run firebase login?
[warn] ⚠  emulators: You are not currently authenticated so some features may not work correctly. Please run firebase login to authenticate the CLI. 
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2025-05-25T08:37:40.357Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-25T08:37:40.357Z] assigned listening specs for emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[warn] ⚠  emulators: It seems that you are running multiple instances of the emulator suite for project outliner-d57b0. This may result in unexpected behavior. 
[debug] [2025-05-25T08:37:40.363Z] [hub] writing locator at /tmp/hub-outliner-d57b0.json
[debug] [2025-05-25T08:37:40.377Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-25T08:37:40.378Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-25T08:37:40.378Z] late-assigned ports for functions and eventarc emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":57070}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel. {"metadata":{"emulator":{"name":"functions"},"message":"You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel."}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-05-25T08:37:40.383Z] No OAuth tokens found
[debug] [2025-05-25T08:37:40.383Z] No OAuth tokens found
[debug] [2025-05-25T08:37:40.384Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T08:37:40.386Z] Failed to get Admin SDK config for outliner-d57b0, falling back to cache Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to authenticate, have you run \u001b[1mfirebase login\u001b[22m?","original":{},"status":500},"status":500}
[warn] ⚠  functions: Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect."}}
[debug] [2025-05-25T08:37:40.405Z] No OAuth tokens found
[debug] [2025-05-25T08:37:40.405Z] No OAuth tokens found
[debug] [2025-05-25T08:37:40.406Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T08:37:40.407Z] Failed to list hosting sites
[debug] Failed to authenticate, have you run firebase login?
[debug] [2025-05-25T08:37:40.407Z] No OAuth tokens found
[debug] [2025-05-25T08:37:40.408Z] No OAuth tokens found
[debug] [2025-05-25T08:37:40.408Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T08:37:40.409Z] fetchWebSetup error: FirebaseError: Failed to authenticate, have you run firebase login?
[warn] ⚠  hosting: Could not fetch web app configuration and there is no cached configuration on this machine. Check your internet connection and make sure you are authenticated. To continue, you must call firebase.initializeApp({...}) in your code before using Firebase. 
[debug] [2025-05-25T08:37:40.411Z] No OAuth tokens found
[debug] [2025-05-25T08:37:40.413Z] No OAuth tokens found
[debug] [2025-05-25T08:37:40.413Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T08:37:40.414Z] Failed to authenticate, have you run firebase login? (original: Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.)
[info] i  hosting[outliner-d57b0]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting[outliner-d57b0]: Local server: http://127.0.0.1:57000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:57000\u001b[22m\u001b[24m"}}
[info] i  functions: Watching "/workspace/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/workspace/functions\" for Cloud Functions..."}}
[debug] [2025-05-25T08:37:40.515Z] Validating nodejs source
[debug] [2025-05-25T08:37:41.733Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Firebase Cloud Functions for Outliner",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "echo 'No build step required for JavaScript functions'",
    "debug": "firebase --debug emulators:start --inspect-functions=9229 --only functions"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "@fluidframework/azure-client": "^2.0.0",
    "@fluidframework/azure-service-utils": "^1.1.0",
    "cors": "^2.8.5",
    "dotenv": "^16.5.0",
    "firebase": "^11.8.1",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "jsonwebtoken": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-05-25T08:37:41.733Z] Building nodejs source
[debug] [2025-05-25T08:37:41.734Z] Failed to find version of module node: reached end of search path /workspace/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-25T08:37:41.740Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-25T08:37:41.744Z] Found firebase-functions binary at '/workspace/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8641

[debug] [2025-05-25T08:37:41.912Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2025-05-25T08:37:41.913Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[info] {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"}

[debug] [2025-05-25T08:37:42.720Z] Got response from /__/functions.yaml {"endpoints":{"fluidToken":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"fluidToken"},"saveContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveContainer"},"getUserContainers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUserContainers"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteUser"},"deleteContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteContainer"},"health":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"health"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{},"params":[{"name":"AZURE_TENANT_ID","type":"string"},{"name":"AZURE_ENDPOINT","type":"string"},{"name":"AZURE_PRIMARY_KEY","type":"string"},{"name":"AZURE_SECONDARY_KEY","type":"string"},{"name":"AZURE_ACTIVE_KEY","type":"string"}]}
[info] ✔  functions: Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health."}}
[info] ✔  functions[us-central1-fluidToken]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken)."}}
[info] ✔  functions[us-central1-saveContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer)."}}
[info] ✔  functions[us-central1-getUserContainers]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers)."}}
[info] ✔  functions[us-central1-deleteUser]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser)."}}
[info] ✔  functions[us-central1-deleteContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer)."}}
[info] ✔  functions[us-central1-health]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health)."}}
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-25T08:37:46.798Z] [worker-pool] addWorker(~shared~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~shared~)"}}
[debug] [2025-05-25T08:37:46.801Z] [worker-pool] Adding worker with key ~free~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~free~, total=1"}}
[info] >  Starting inspector on 127.0.0.1:9229 failed: address already in use {"user":"Starting inspector on 127.0.0.1:9229 failed: address already in use","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Starting inspector on 127.0.0.1:9229 failed: address already in use"}}
[info] >  Debugger attached. {"user":"Debugger attached.","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Debugger attached."}}
[debug] [2025-05-25T08:37:48.030Z] [runtime-status] [185059] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-25T08:37:48.031Z] [runtime-status] [185059] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T08:37:48.032Z] [runtime-status] [185059] Found local functions config: /workspace/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Found local functions config: /workspace/functions/.runtimeconfig.json"}}
[debug] [2025-05-25T08:37:48.032Z] [runtime-status] [185059] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-05-25T08:37:48.032Z] [runtime-status] [185059] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T08:37:48.300Z] [runtime-status] [185059] Checked functions.config() {"config":{"azure":{"tenant_id":"90c5dda7-fbf3-4db1-ae18-b4e963142c29","endpoint":"https://us.fluidrelay.azure.com","primary_key":"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB","secondary_key":"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ","active_key":"primary"}}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Checked functions.config() {\"config\":{\"azure\":{\"tenant_id\":\"90c5dda7-fbf3-4db1-ae18-b4e963142c29\",\"endpoint\":\"https://us.fluidrelay.azure.com\",\"primary_key\":\"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB\",\"secondary_key\":\"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ\",\"active_key\":\"primary\"}}}"}}
[debug] [2025-05-25T08:37:48.301Z] [runtime-status] [185059] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-05-25T08:37:48.302Z] [runtime-status] [185059] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T08:37:48.304Z] [runtime-status] [185059] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-25T08:37:48.306Z] [runtime-status] [185059] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T08:37:48.307Z] [runtime-status] [185059] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-05-25T08:37:49.053Z] [runtime-status] [185059] initializeApp(DEFAULT) {"storageBucket":"outliner-d57b0.appspot.com","databaseURL":"https://outliner-d57b0.firebaseio.com","projectId":"outliner-d57b0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] initializeApp(DEFAULT) {\"storageBucket\":\"outliner-d57b0.appspot.com\",\"databaseURL\":\"https://outliner-d57b0.firebaseio.com\",\"projectId\":\"outliner-d57b0\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[info] >  {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"} {"user":{"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"tenantId\":\"params.AZURE_TENANT_ID\",\"endpoint\":\"params.AZURE_ENDPOINT\",\"primaryKeyExists\":true,\"secondaryKeyExists\":true,\"activeKey\":\"params.AZURE_ACTIVE_KEY\",\"severity\":\"INFO\",\"message\":\"Azure Fluid Relay設定:\"}"}}
[debug] [2025-05-25T08:37:49.064Z] [runtime-status] [185059] Functions runtime initialized. {"cwd":"/workspace/functions","node_version":"22.15.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Functions runtime initialized. {\"cwd\":\"/workspace/functions\",\"node_version\":\"22.15.0\"}"}}
[debug] [2025-05-25T08:37:49.065Z] [runtime-status] [185059] Listening to port: /tmp/fire_emu_d5b94603f68550d5.sock {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [185059] Listening to port: /tmp/fire_emu_d5b94603f68550d5.sock"}}
[debug] [2025-05-25T08:37:49.147Z] [worker-~free~-ce18e3af-76c8-4133-a015-0c8d5e21f216]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-ce18e3af-76c8-4133-a015-0c8d5e21f216]: IDLE"}}
[debug] [2025-05-25T08:37:49.151Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:54000/              │
└─────────────────────────────────────────────────────────────┘

┌───────────┬─────────────────┬──────────────────────────────────┐
│ Emulator  │ Host:Port       │ View in Emulator UI              │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Functions │ 127.0.0.1:57070 │ http://127.0.0.1:54000/functions │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Hosting   │ 127.0.0.1:57000 │ n/a                              │
└───────────┴─────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-05-25T09:20:47.179Z] ----------------------------------------------------------------------
[debug] [2025-05-25T09:20:47.190Z] Command:       /usr/local/bin/node /usr/local/share/npm-global/bin/firebase emulators:start --inspect-functions=9229 --only functions,hosting
[debug] [2025-05-25T09:20:47.190Z] CLI Version:   14.4.0
[debug] [2025-05-25T09:20:47.191Z] Platform:      linux
[debug] [2025-05-25T09:20:47.191Z] Node Version:  v22.15.0
[debug] [2025-05-25T09:20:47.192Z] Time:          Sun May 25 2025 09:20:47 GMT+0000 (Coordinated Universal Time)
[debug] [2025-05-25T09:20:47.192Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-25T09:20:47.651Z] Field "/functions" in "firebase.json" is possibly invalid: must be object
[debug] [2025-05-25T09:20:47.652Z] Object "/functions/0" in "firebase.json" has unknown property: {"additionalProperty":"v2"}
[debug] [2025-05-25T09:20:47.653Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-05-25T09:20:47.659Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] Failed to authenticate, have you run firebase login?
[warn] ⚠  emulators: You are not currently authenticated so some features may not work correctly. Please run firebase login to authenticate the CLI. 
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2025-05-25T09:20:47.751Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-25T09:20:47.751Z] assigned listening specs for emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[warn] ⚠  emulators: It seems that you are running multiple instances of the emulator suite for project outliner-d57b0. This may result in unexpected behavior. 
[debug] [2025-05-25T09:20:47.758Z] [hub] writing locator at /tmp/hub-outliner-d57b0.json
[debug] [2025-05-25T09:20:47.767Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-25T09:20:47.768Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-25T09:20:47.768Z] late-assigned ports for functions and eventarc emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":57070}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel. {"metadata":{"emulator":{"name":"functions"},"message":"You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel."}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-05-25T09:20:47.772Z] No OAuth tokens found
[debug] [2025-05-25T09:20:47.773Z] No OAuth tokens found
[debug] [2025-05-25T09:20:47.773Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T09:20:47.774Z] Failed to get Admin SDK config for outliner-d57b0, falling back to cache Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to authenticate, have you run \u001b[1mfirebase login\u001b[22m?","original":{},"status":500},"status":500}
[warn] ⚠  functions: Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect."}}
[debug] [2025-05-25T09:20:47.789Z] No OAuth tokens found
[debug] [2025-05-25T09:20:47.789Z] No OAuth tokens found
[debug] [2025-05-25T09:20:47.790Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T09:20:47.791Z] Failed to list hosting sites
[debug] Failed to authenticate, have you run firebase login?
[debug] [2025-05-25T09:20:47.791Z] No OAuth tokens found
[debug] [2025-05-25T09:20:47.792Z] No OAuth tokens found
[debug] [2025-05-25T09:20:47.792Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T09:20:47.793Z] fetchWebSetup error: FirebaseError: Failed to authenticate, have you run firebase login?
[warn] ⚠  hosting: Could not fetch web app configuration and there is no cached configuration on this machine. Check your internet connection and make sure you are authenticated. To continue, you must call firebase.initializeApp({...}) in your code before using Firebase. 
[debug] [2025-05-25T09:20:47.795Z] No OAuth tokens found
[debug] [2025-05-25T09:20:47.795Z] No OAuth tokens found
[debug] [2025-05-25T09:20:47.795Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T09:20:47.796Z] Failed to authenticate, have you run firebase login? (original: Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.)
[info] i  hosting[outliner-d57b0]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting[outliner-d57b0]: Local server: http://127.0.0.1:57000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:57000\u001b[22m\u001b[24m"}}
[info] i  functions: Watching "/workspace/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/workspace/functions\" for Cloud Functions..."}}
[debug] [2025-05-25T09:20:47.837Z] Validating nodejs source
[debug] [2025-05-25T09:20:49.004Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Firebase Cloud Functions for Outliner",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "echo 'No build step required for JavaScript functions'",
    "debug": "firebase --debug emulators:start --inspect-functions=9229 --only functions"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "@fluidframework/azure-client": "^2.0.0",
    "@fluidframework/azure-service-utils": "^1.1.0",
    "cors": "^2.8.5",
    "dotenv": "^16.5.0",
    "firebase": "^11.8.1",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "jsonwebtoken": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-05-25T09:20:49.006Z] Building nodejs source
[debug] [2025-05-25T09:20:49.007Z] Failed to find version of module node: reached end of search path /workspace/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-25T09:20:49.016Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-25T09:20:49.020Z] Found firebase-functions binary at '/workspace/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8445

[info] {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"}

[debug] [2025-05-25T09:20:49.981Z] Got response from /__/functions.yaml {"endpoints":{"fluidToken":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"fluidToken"},"saveContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveContainer"},"getUserContainers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUserContainers"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteUser"},"deleteContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteContainer"},"health":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"health"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{},"params":[{"name":"AZURE_TENANT_ID","type":"string"},{"name":"AZURE_ENDPOINT","type":"string"},{"name":"AZURE_PRIMARY_KEY","type":"string"},{"name":"AZURE_SECONDARY_KEY","type":"string"},{"name":"AZURE_ACTIVE_KEY","type":"string"}]}
[info] ✔  functions: Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health."}}
[info] ✔  functions[us-central1-fluidToken]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken)."}}
[info] ✔  functions[us-central1-saveContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer)."}}
[info] ✔  functions[us-central1-getUserContainers]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers)."}}
[info] ✔  functions[us-central1-deleteUser]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser)."}}
[info] ✔  functions[us-central1-deleteContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer)."}}
[info] ✔  functions[us-central1-health]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health)."}}
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-25T09:20:54.031Z] [worker-pool] addWorker(~shared~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~shared~)"}}
[debug] [2025-05-25T09:20:54.034Z] [worker-pool] Adding worker with key ~free~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~free~, total=1"}}
[info] >  Starting inspector on 127.0.0.1:9229 failed: address already in use {"user":"Starting inspector on 127.0.0.1:9229 failed: address already in use","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Starting inspector on 127.0.0.1:9229 failed: address already in use"}}
[info] >  Debugger attached. {"user":"Debugger attached.","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Debugger attached."}}
[debug] [2025-05-25T09:20:55.450Z] [runtime-status] [195647] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-25T09:20:55.451Z] [runtime-status] [195647] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T09:20:55.451Z] [runtime-status] [195647] Found local functions config: /workspace/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Found local functions config: /workspace/functions/.runtimeconfig.json"}}
[debug] [2025-05-25T09:20:55.452Z] [runtime-status] [195647] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-05-25T09:20:55.452Z] [runtime-status] [195647] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T09:20:55.709Z] [runtime-status] [195647] Checked functions.config() {"config":{"azure":{"tenant_id":"90c5dda7-fbf3-4db1-ae18-b4e963142c29","endpoint":"https://us.fluidrelay.azure.com","primary_key":"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB","secondary_key":"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ","active_key":"primary"}}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Checked functions.config() {\"config\":{\"azure\":{\"tenant_id\":\"90c5dda7-fbf3-4db1-ae18-b4e963142c29\",\"endpoint\":\"https://us.fluidrelay.azure.com\",\"primary_key\":\"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB\",\"secondary_key\":\"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ\",\"active_key\":\"primary\"}}}"}}
[debug] [2025-05-25T09:20:55.710Z] [runtime-status] [195647] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-05-25T09:20:55.711Z] [runtime-status] [195647] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T09:20:55.715Z] [runtime-status] [195647] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-25T09:20:55.717Z] [runtime-status] [195647] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T09:20:55.717Z] [runtime-status] [195647] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-05-25T09:20:56.470Z] [runtime-status] [195647] initializeApp(DEFAULT) {"storageBucket":"outliner-d57b0.appspot.com","databaseURL":"https://outliner-d57b0.firebaseio.com","projectId":"outliner-d57b0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] initializeApp(DEFAULT) {\"storageBucket\":\"outliner-d57b0.appspot.com\",\"databaseURL\":\"https://outliner-d57b0.firebaseio.com\",\"projectId\":\"outliner-d57b0\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[info] >  {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"} {"user":{"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"tenantId\":\"params.AZURE_TENANT_ID\",\"endpoint\":\"params.AZURE_ENDPOINT\",\"primaryKeyExists\":true,\"secondaryKeyExists\":true,\"activeKey\":\"params.AZURE_ACTIVE_KEY\",\"severity\":\"INFO\",\"message\":\"Azure Fluid Relay設定:\"}"}}
[debug] [2025-05-25T09:20:56.481Z] [runtime-status] [195647] Functions runtime initialized. {"cwd":"/workspace/functions","node_version":"22.15.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Functions runtime initialized. {\"cwd\":\"/workspace/functions\",\"node_version\":\"22.15.0\"}"}}
[debug] [2025-05-25T09:20:56.482Z] [runtime-status] [195647] Listening to port: /tmp/fire_emu_1f42955e25412444.sock {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [195647] Listening to port: /tmp/fire_emu_1f42955e25412444.sock"}}
[debug] [2025-05-25T09:20:56.582Z] [worker-~free~-34ad6fbb-408e-4531-aca8-b76a30e50cbb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-34ad6fbb-408e-4531-aca8-b76a30e50cbb]: IDLE"}}
[debug] [2025-05-25T09:20:56.593Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:54000/              │
└─────────────────────────────────────────────────────────────┘

┌───────────┬─────────────────┬──────────────────────────────────┐
│ Emulator  │ Host:Port       │ View in Emulator UI              │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Functions │ 127.0.0.1:57070 │ http://127.0.0.1:54000/functions │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Hosting   │ 127.0.0.1:57000 │ n/a                              │
└───────────┴─────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-05-25T10:58:47.120Z] ----------------------------------------------------------------------
[debug] [2025-05-25T10:58:47.126Z] Command:       /usr/local/bin/node /usr/local/share/npm-global/bin/firebase emulators:start --inspect-functions=9229 --only functions,hosting
[debug] [2025-05-25T10:58:47.127Z] CLI Version:   14.4.0
[debug] [2025-05-25T10:58:47.127Z] Platform:      linux
[debug] [2025-05-25T10:58:47.127Z] Node Version:  v22.15.0
[debug] [2025-05-25T10:58:47.128Z] Time:          Sun May 25 2025 10:58:47 GMT+0000 (Coordinated Universal Time)
[debug] [2025-05-25T10:58:47.128Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-25T10:58:47.580Z] Field "/functions" in "firebase.json" is possibly invalid: must be object
[debug] [2025-05-25T10:58:47.581Z] Object "/functions/0" in "firebase.json" has unknown property: {"additionalProperty":"v2"}
[debug] [2025-05-25T10:58:47.582Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-05-25T10:58:47.588Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] Failed to authenticate, have you run firebase login?
[warn] ⚠  emulators: You are not currently authenticated so some features may not work correctly. Please run firebase login to authenticate the CLI. 
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2025-05-25T10:58:47.682Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-25T10:58:47.682Z] assigned listening specs for emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[warn] ⚠  emulators: It seems that you are running multiple instances of the emulator suite for project outliner-d57b0. This may result in unexpected behavior. 
[debug] [2025-05-25T10:58:47.687Z] [hub] writing locator at /tmp/hub-outliner-d57b0.json
[debug] [2025-05-25T10:58:47.696Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-25T10:58:47.697Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-25T10:58:47.697Z] late-assigned ports for functions and eventarc emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":57070}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel. {"metadata":{"emulator":{"name":"functions"},"message":"You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel."}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-05-25T10:58:47.700Z] No OAuth tokens found
[debug] [2025-05-25T10:58:47.701Z] No OAuth tokens found
[debug] [2025-05-25T10:58:47.701Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T10:58:47.702Z] Failed to get Admin SDK config for outliner-d57b0, falling back to cache Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to authenticate, have you run \u001b[1mfirebase login\u001b[22m?","original":{},"status":500},"status":500}
[warn] ⚠  functions: Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect."}}
[debug] [2025-05-25T10:58:47.714Z] No OAuth tokens found
[debug] [2025-05-25T10:58:47.714Z] No OAuth tokens found
[debug] [2025-05-25T10:58:47.715Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T10:58:47.715Z] Failed to list hosting sites
[debug] Failed to authenticate, have you run firebase login?
[debug] [2025-05-25T10:58:47.716Z] No OAuth tokens found
[debug] [2025-05-25T10:58:47.716Z] No OAuth tokens found
[debug] [2025-05-25T10:58:47.716Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T10:58:47.717Z] fetchWebSetup error: FirebaseError: Failed to authenticate, have you run firebase login?
[warn] ⚠  hosting: Could not fetch web app configuration and there is no cached configuration on this machine. Check your internet connection and make sure you are authenticated. To continue, you must call firebase.initializeApp({...}) in your code before using Firebase. 
[debug] [2025-05-25T10:58:47.718Z] No OAuth tokens found
[debug] [2025-05-25T10:58:47.719Z] No OAuth tokens found
[debug] [2025-05-25T10:58:47.719Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-25T10:58:47.720Z] Failed to authenticate, have you run firebase login? (original: Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.)
[info] i  hosting[outliner-d57b0]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting[outliner-d57b0]: Local server: http://127.0.0.1:57000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:57000\u001b[22m\u001b[24m"}}
[info] i  functions: Watching "/workspace/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/workspace/functions\" for Cloud Functions..."}}
[debug] [2025-05-25T10:58:47.753Z] Validating nodejs source
[debug] [2025-05-25T10:58:48.873Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Firebase Cloud Functions for Outliner",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "echo 'No build step required for JavaScript functions'",
    "debug": "firebase --debug emulators:start --inspect-functions=9229 --only functions"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "@fluidframework/azure-client": "^2.0.0",
    "@fluidframework/azure-service-utils": "^1.1.0",
    "cors": "^2.8.5",
    "dotenv": "^16.5.0",
    "firebase": "^11.8.1",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "jsonwebtoken": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-05-25T10:58:48.875Z] Building nodejs source
[debug] [2025-05-25T10:58:48.878Z] Failed to find version of module node: reached end of search path /workspace/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-25T10:58:48.888Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-25T10:58:48.894Z] Found firebase-functions binary at '/workspace/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8201

[info] {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"}

[debug] [2025-05-25T10:58:49.893Z] Got response from /__/functions.yaml {"endpoints":{"fluidToken":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"fluidToken"},"saveContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveContainer"},"getUserContainers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUserContainers"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteUser"},"deleteContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteContainer"},"health":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"health"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{},"params":[{"name":"AZURE_TENANT_ID","type":"string"},{"name":"AZURE_ENDPOINT","type":"string"},{"name":"AZURE_PRIMARY_KEY","type":"string"},{"name":"AZURE_SECONDARY_KEY","type":"string"},{"name":"AZURE_ACTIVE_KEY","type":"string"}]}
[info] ✔  functions: Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health."}}
[info] ✔  functions[us-central1-fluidToken]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken)."}}
[info] ✔  functions[us-central1-saveContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer)."}}
[info] ✔  functions[us-central1-getUserContainers]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers)."}}
[info] ✔  functions[us-central1-deleteUser]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser)."}}
[info] ✔  functions[us-central1-deleteContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer)."}}
[info] ✔  functions[us-central1-health]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health)."}}
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-25T10:58:53.947Z] [worker-pool] addWorker(~shared~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~shared~)"}}
[debug] [2025-05-25T10:58:53.948Z] [worker-pool] Adding worker with key ~free~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~free~, total=1"}}
[info] >  Starting inspector on 127.0.0.1:9229 failed: address already in use {"user":"Starting inspector on 127.0.0.1:9229 failed: address already in use","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Starting inspector on 127.0.0.1:9229 failed: address already in use"}}
[info] >  Debugger attached. {"user":"Debugger attached.","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Debugger attached."}}
[debug] [2025-05-25T10:58:55.459Z] [runtime-status] [218265] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-25T10:58:55.460Z] [runtime-status] [218265] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T10:58:55.460Z] [runtime-status] [218265] Found local functions config: /workspace/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Found local functions config: /workspace/functions/.runtimeconfig.json"}}
[debug] [2025-05-25T10:58:55.460Z] [runtime-status] [218265] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-05-25T10:58:55.461Z] [runtime-status] [218265] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T10:58:55.788Z] [runtime-status] [218265] Checked functions.config() {"config":{"azure":{"tenant_id":"90c5dda7-fbf3-4db1-ae18-b4e963142c29","endpoint":"https://us.fluidrelay.azure.com","primary_key":"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB","secondary_key":"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ","active_key":"primary"}}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Checked functions.config() {\"config\":{\"azure\":{\"tenant_id\":\"90c5dda7-fbf3-4db1-ae18-b4e963142c29\",\"endpoint\":\"https://us.fluidrelay.azure.com\",\"primary_key\":\"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB\",\"secondary_key\":\"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ\",\"active_key\":\"primary\"}}}"}}
[debug] [2025-05-25T10:58:55.789Z] [runtime-status] [218265] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-05-25T10:58:55.789Z] [runtime-status] [218265] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T10:58:55.793Z] [runtime-status] [218265] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-25T10:58:55.796Z] [runtime-status] [218265] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-25T10:58:55.799Z] [runtime-status] [218265] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-05-25T10:58:56.720Z] [runtime-status] [218265] initializeApp(DEFAULT) {"storageBucket":"outliner-d57b0.appspot.com","databaseURL":"https://outliner-d57b0.firebaseio.com","projectId":"outliner-d57b0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] initializeApp(DEFAULT) {\"storageBucket\":\"outliner-d57b0.appspot.com\",\"databaseURL\":\"https://outliner-d57b0.firebaseio.com\",\"projectId\":\"outliner-d57b0\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[info] >  {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"} {"user":{"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"tenantId\":\"params.AZURE_TENANT_ID\",\"endpoint\":\"params.AZURE_ENDPOINT\",\"primaryKeyExists\":true,\"secondaryKeyExists\":true,\"activeKey\":\"params.AZURE_ACTIVE_KEY\",\"severity\":\"INFO\",\"message\":\"Azure Fluid Relay設定:\"}"}}
[debug] [2025-05-25T10:58:56.735Z] [runtime-status] [218265] Functions runtime initialized. {"cwd":"/workspace/functions","node_version":"22.15.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Functions runtime initialized. {\"cwd\":\"/workspace/functions\",\"node_version\":\"22.15.0\"}"}}
[debug] [2025-05-25T10:58:56.735Z] [runtime-status] [218265] Listening to port: /tmp/fire_emu_ee7c148ac5abd3b7.sock {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [218265] Listening to port: /tmp/fire_emu_ee7c148ac5abd3b7.sock"}}
[debug] [2025-05-25T10:58:56.814Z] [worker-~free~-c7a543f3-224d-4b16-93dd-0c6090c3fb2e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-c7a543f3-224d-4b16-93dd-0c6090c3fb2e]: IDLE"}}
[debug] [2025-05-25T10:58:56.819Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:54000/              │
└─────────────────────────────────────────────────────────────┘

┌───────────┬─────────────────┬──────────────────────────────────┐
│ Emulator  │ Host:Port       │ View in Emulator UI              │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Functions │ 127.0.0.1:57070 │ http://127.0.0.1:54000/functions │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Hosting   │ 127.0.0.1:57000 │ n/a                              │
└───────────┴─────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[info] [hosting] Rewriting /api/get-user-containers to http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers for local Function us-central1/getUserContainers
[debug] [2025-05-25T10:59:37.939Z] >>> [apiv2][query] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 
[debug] [2025-05-25T10:59:37.939Z] >>> [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[debug] [2025-05-25T10:59:37.945Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-25T10:59:37.945Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-25T10:59:37.946Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-25T10:59:37.945Z"],"workRunningCount":1}
[debug] [2025-05-25T10:59:37.946Z] Accepted request OPTIONS /outliner-d57b0/us-central1/getUserContainers/api/get-user-containers --> us-central1-getUserContainers
[debug] [2025-05-25T10:59:37.947Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-25T10:59:37.947Z] [functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers"}}
[debug] [2025-05-25T10:59:37.948Z] [worker-pool] submitRequest(triggerId=us-central1-getUserContainers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getUserContainers)"}}
[debug] [2025-05-25T10:59:37.949Z] [worker-~free~-c7a543f3-224d-4b16-93dd-0c6090c3fb2e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-c7a543f3-224d-4b16-93dd-0c6090c3fb2e]: BUSY"}}
[debug] [2025-05-25T10:59:37.956Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-25T10:59:37.957Z] [worker-~free~-c7a543f3-224d-4b16-93dd-0c6090c3fb2e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-c7a543f3-224d-4b16-93dd-0c6090c3fb2e]: IDLE"}}
[debug] [2025-05-25T10:59:37.957Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-25T10:59:37.958Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-25T10:59:37.958Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-25T10:59:37.960Z] <<< [apiv2][status] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 204
[debug] [2025-05-25T10:59:37.960Z] <<< [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[info] i  hosting: 127.0.0.1 - - [25/May/2025:10:59:37 +0000] "OPTIONS /api/get-user-containers HTTP/1.1" 204 0 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [25/May/2025:10:59:37 +0000] \"OPTIONS /api/get-user-containers HTTP/1.1\" 204 0 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/get-user-containers to http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers for local Function us-central1/getUserContainers
[debug] [2025-05-25T10:59:38.011Z] >>> [apiv2][query] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 
[debug] [2025-05-25T10:59:38.012Z] >>> [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[debug] [2025-05-25T10:59:38.017Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-25T10:59:38.017Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-25T10:59:38.018Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-25T10:59:38.017Z"],"workRunningCount":1}
[debug] [2025-05-25T10:59:38.018Z] Accepted request POST /outliner-d57b0/us-central1/getUserContainers/api/get-user-containers --> us-central1-getUserContainers
[debug] [2025-05-25T10:59:38.018Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-25T10:59:38.019Z] [functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers"}}
[debug] [2025-05-25T10:59:38.019Z] [worker-pool] submitRequest(triggerId=us-central1-getUserContainers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getUserContainers)"}}
[debug] [2025-05-25T10:59:38.020Z] [worker-~free~-c7a543f3-224d-4b16-93dd-0c6090c3fb2e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-c7a543f3-224d-4b16-93dd-0c6090c3fb2e]: BUSY"}}
[warn] ⚠  functions: The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"message":"The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production."}}
[info] >  {"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Error getting user containers: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:379:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"} {"user":{"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Error getting user containers: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:379:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"error\":{\"code\":\"auth/argument-error\",\"message\":\"Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\"},\"severity\":\"ERROR\",\"message\":\"Error: Error getting user containers: Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\\n    at /workspace/functions/index.js:379:14\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\"}"}}
[debug] [2025-05-25T10:59:38.066Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-25T10:59:38.066Z] [worker-~free~-c7a543f3-224d-4b16-93dd-0c6090c3fb2e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-c7a543f3-224d-4b16-93dd-0c6090c3fb2e]: IDLE"}}
[debug] [2025-05-25T10:59:38.067Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-25T10:59:38.067Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-25T10:59:38.068Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-25T10:59:38.069Z] <<< [apiv2][status] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 500
[debug] [2025-05-25T10:59:38.070Z] <<< [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[info] i  hosting: 127.0.0.1 - - [25/May/2025:10:59:38 +0000] "POST /api/get-user-containers HTTP/1.1" 500 41 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [25/May/2025:10:59:38 +0000] \"POST /api/get-user-containers HTTP/1.1\" 500 41 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[debug] [2025-05-26T05:44:51.338Z] ----------------------------------------------------------------------
[debug] [2025-05-26T05:44:51.344Z] Command:       /usr/local/bin/node /usr/local/share/npm-global/bin/firebase emulators:start --inspect-functions=9229 --only functions,hosting
[debug] [2025-05-26T05:44:51.344Z] CLI Version:   14.4.0
[debug] [2025-05-26T05:44:51.345Z] Platform:      linux
[debug] [2025-05-26T05:44:51.345Z] Node Version:  v22.15.0
[debug] [2025-05-26T05:44:51.346Z] Time:          Mon May 26 2025 05:44:51 GMT+0000 (Coordinated Universal Time)
[debug] [2025-05-26T05:44:51.347Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-26T05:44:51.728Z] Field "/functions" in "firebase.json" is possibly invalid: must be object
[debug] [2025-05-26T05:44:51.729Z] Object "/functions/0" in "firebase.json" has unknown property: {"additionalProperty":"v2"}
[debug] [2025-05-26T05:44:51.730Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-05-26T05:44:51.736Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] Failed to authenticate, have you run firebase login?
[warn] ⚠  emulators: You are not currently authenticated so some features may not work correctly. Please run firebase login to authenticate the CLI. 
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2025-05-26T05:44:51.787Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-26T05:44:51.787Z] assigned listening specs for emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[warn] ⚠  emulators: It seems that you are running multiple instances of the emulator suite for project outliner-d57b0. This may result in unexpected behavior. 
[debug] [2025-05-26T05:44:51.792Z] [hub] writing locator at /tmp/hub-outliner-d57b0.json
[debug] [2025-05-26T05:44:51.800Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-26T05:44:51.801Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-05-26T05:44:51.801Z] late-assigned ports for functions and eventarc emulators {"user":{"ui":[{"address":"127.0.0.1","family":"IPv4","port":54000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":57000}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":57070}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel. {"metadata":{"emulator":{"name":"functions"},"message":"You are running the Functions emulator in debug mode. This means that functions will execute in sequence rather than in parallel."}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-05-26T05:44:51.804Z] No OAuth tokens found
[debug] [2025-05-26T05:44:51.805Z] No OAuth tokens found
[debug] [2025-05-26T05:44:51.805Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-26T05:44:51.806Z] Failed to get Admin SDK config for outliner-d57b0, falling back to cache Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project outliner-d57b0. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to authenticate, have you run \u001b[1mfirebase login\u001b[22m?","original":{},"status":500},"status":500}
[warn] ⚠  functions: Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect."}}
[debug] [2025-05-26T05:44:51.822Z] No OAuth tokens found
[debug] [2025-05-26T05:44:51.823Z] No OAuth tokens found
[debug] [2025-05-26T05:44:51.823Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-26T05:44:51.824Z] Failed to list hosting sites
[debug] Failed to authenticate, have you run firebase login?
[debug] [2025-05-26T05:44:51.825Z] No OAuth tokens found
[debug] [2025-05-26T05:44:51.825Z] No OAuth tokens found
[debug] [2025-05-26T05:44:51.825Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-26T05:44:51.826Z] fetchWebSetup error: FirebaseError: Failed to authenticate, have you run firebase login?
[warn] ⚠  hosting: Could not fetch web app configuration and there is no cached configuration on this machine. Check your internet connection and make sure you are authenticated. To continue, you must call firebase.initializeApp({...}) in your code before using Firebase. 
[debug] [2025-05-26T05:44:51.827Z] No OAuth tokens found
[debug] [2025-05-26T05:44:51.828Z] No OAuth tokens found
[debug] [2025-05-26T05:44:51.828Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-26T05:44:51.828Z] Failed to authenticate, have you run firebase login? (original: Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.)
[info] i  hosting[outliner-d57b0]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting[outliner-d57b0]: Local server: http://127.0.0.1:57000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:57000\u001b[22m\u001b[24m"}}
[info] i  functions: Watching "/workspace/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/workspace/functions\" for Cloud Functions..."}}
[debug] [2025-05-26T05:44:51.858Z] Validating nodejs source
[debug] [2025-05-26T05:44:52.848Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Firebase Cloud Functions for Outliner",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "echo 'No build step required for JavaScript functions'",
    "debug": "firebase --debug emulators:start --inspect-functions=9229 --only functions"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "@fluidframework/azure-client": "^2.0.0",
    "@fluidframework/azure-service-utils": "^1.1.0",
    "cors": "^2.8.5",
    "dotenv": "^16.5.0",
    "firebase": "^11.8.1",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "jsonwebtoken": "^9.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-05-26T05:44:52.848Z] Building nodejs source
[debug] [2025-05-26T05:44:52.849Z] Failed to find version of module node: reached end of search path /workspace/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-26T05:44:52.856Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-26T05:44:52.862Z] Found firebase-functions binary at '/workspace/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8416

[info] {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"}

[debug] [2025-05-26T05:44:54.031Z] Got response from /__/functions.yaml {"endpoints":{"fluidToken":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"fluidToken"},"saveContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"saveContainer"},"getUserContainers":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"getUserContainers"},"deleteUser":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteUser"},"deleteContainer":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"deleteContainer"},"health":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"health"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{},"params":[{"name":"AZURE_TENANT_ID","type":"string"},{"name":"AZURE_ENDPOINT","type":"string"},{"name":"AZURE_PRIMARY_KEY","type":"string"},{"name":"AZURE_SECONDARY_KEY","type":"string"},{"name":"AZURE_ACTIVE_KEY","type":"string"}]}
[info] ✔  functions: Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: fluidToken, saveContainer, getUserContainers, deleteUser, deleteContainer, health."}}
[info] ✔  functions[us-central1-fluidToken]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken)."}}
[info] ✔  functions[us-central1-saveContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer)."}}
[info] ✔  functions[us-central1-getUserContainers]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers)."}}
[info] ✔  functions[us-central1-deleteUser]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteUser)."}}
[info] ✔  functions[us-central1-deleteContainer]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/deleteContainer)."}}
[info] ✔  functions[us-central1-health]: http function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:57070/outliner-d57b0/us-central1/health)."}}
[info] i  functions: Loaded environment variables from .env, .env.local. 
[debug] [2025-05-26T05:44:58.097Z] [worker-pool] addWorker(~shared~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~shared~)"}}
[debug] [2025-05-26T05:44:58.099Z] [worker-pool] Adding worker with key ~free~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~free~, total=1"}}
[info] >  Starting inspector on 127.0.0.1:9229 failed: address already in use {"user":"Starting inspector on 127.0.0.1:9229 failed: address already in use","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Starting inspector on 127.0.0.1:9229 failed: address already in use"}}
[info] >  Debugger attached. {"user":"Debugger attached.","metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m Debugger attached."}}
[debug] [2025-05-26T05:44:59.434Z] [runtime-status] [260404] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-26T05:44:59.435Z] [runtime-status] [260404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-26T05:44:59.435Z] [runtime-status] [260404] Found local functions config: /workspace/functions/.runtimeconfig.json {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Found local functions config: /workspace/functions/.runtimeconfig.json"}}
[debug] [2025-05-26T05:44:59.435Z] [runtime-status] [260404] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-05-26T05:44:59.436Z] [runtime-status] [260404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-26T05:44:59.701Z] [runtime-status] [260404] Checked functions.config() {"config":{"azure":{"tenant_id":"90c5dda7-fbf3-4db1-ae18-b4e963142c29","endpoint":"https://us.fluidrelay.azure.com","primary_key":"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB","secondary_key":"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ","active_key":"primary"}}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Checked functions.config() {\"config\":{\"azure\":{\"tenant_id\":\"90c5dda7-fbf3-4db1-ae18-b4e963142c29\",\"endpoint\":\"https://us.fluidrelay.azure.com\",\"primary_key\":\"AOPktmYTWatr1dnpTYlzKtwJdnH2JvetxZtvHVAenjoeQQGig58SJQQJ99BDACRsaBGy71xuAAAAAZFRCYsB\",\"secondary_key\":\"G1uCB4aPknENH7HVHBwkd5lnUjrov8ZfejV2ieeUeaK0gZMuh6plJQQJ99BDACRsaBGy71xuAAAAAZFR25QJ\",\"active_key\":\"primary\"}}}"}}
[debug] [2025-05-26T05:44:59.702Z] [runtime-status] [260404] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-05-26T05:44:59.703Z] [runtime-status] [260404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-26T05:44:59.705Z] [runtime-status] [260404] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-05-26T05:44:59.707Z] [runtime-status] [260404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/workspace/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-05-26T05:44:59.708Z] [runtime-status] [260404] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/workspace/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/workspace/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-05-26T05:45:00.443Z] [runtime-status] [260404] initializeApp(DEFAULT) {"storageBucket":"outliner-d57b0.appspot.com","databaseURL":"https://outliner-d57b0.firebaseio.com","projectId":"outliner-d57b0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] initializeApp(DEFAULT) {\"storageBucket\":\"outliner-d57b0.appspot.com\",\"databaseURL\":\"https://outliner-d57b0.firebaseio.com\",\"projectId\":\"outliner-d57b0\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[info] >  {"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"} {"user":{"tenantId":"params.AZURE_TENANT_ID","endpoint":"params.AZURE_ENDPOINT","primaryKeyExists":true,"secondaryKeyExists":true,"activeKey":"params.AZURE_ACTIVE_KEY","severity":"INFO","message":"Azure Fluid Relay設定:"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"tenantId\":\"params.AZURE_TENANT_ID\",\"endpoint\":\"params.AZURE_ENDPOINT\",\"primaryKeyExists\":true,\"secondaryKeyExists\":true,\"activeKey\":\"params.AZURE_ACTIVE_KEY\",\"severity\":\"INFO\",\"message\":\"Azure Fluid Relay設定:\"}"}}
[debug] [2025-05-26T05:45:00.454Z] [runtime-status] [260404] Functions runtime initialized. {"cwd":"/workspace/functions","node_version":"22.15.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Functions runtime initialized. {\"cwd\":\"/workspace/functions\",\"node_version\":\"22.15.0\"}"}}
[debug] [2025-05-26T05:45:00.455Z] [runtime-status] [260404] Listening to port: /tmp/fire_emu_c87d12f4caf64586.sock {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [260404] Listening to port: /tmp/fire_emu_c87d12f4caf64586.sock"}}
[debug] [2025-05-26T05:45:00.545Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:45:00.551Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:54000/              │
└─────────────────────────────────────────────────────────────┘

┌───────────┬─────────────────┬──────────────────────────────────┐
│ Emulator  │ Host:Port       │ View in Emulator UI              │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Functions │ 127.0.0.1:57070 │ http://127.0.0.1:54000/functions │
├───────────┼─────────────────┼──────────────────────────────────┤
│ Hosting   │ 127.0.0.1:57000 │ n/a                              │
└───────────┴─────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[info] [hosting] Rewriting /api/get-user-containers to http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers for local Function us-central1/getUserContainers
[debug] [2025-05-26T05:45:16.936Z] >>> [apiv2][query] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 
[debug] [2025-05-26T05:45:16.937Z] >>> [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[debug] [2025-05-26T05:45:16.942Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:45:16.941Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:45:16.942Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:45:16.941Z"],"workRunningCount":1}
[debug] [2025-05-26T05:45:16.943Z] Accepted request OPTIONS /outliner-d57b0/us-central1/getUserContainers/api/get-user-containers --> us-central1-getUserContainers
[debug] [2025-05-26T05:45:16.943Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:45:16.944Z] [functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers"}}
[debug] [2025-05-26T05:45:16.944Z] [worker-pool] submitRequest(triggerId=us-central1-getUserContainers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getUserContainers)"}}
[debug] [2025-05-26T05:45:16.945Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[debug] [2025-05-26T05:45:16.950Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:45:16.951Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:45:16.951Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:45:16.952Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:45:16.952Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:45:16.953Z] <<< [apiv2][status] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 204
[debug] [2025-05-26T05:45:16.953Z] <<< [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:45:16 +0000] "OPTIONS /api/get-user-containers HTTP/1.1" 204 0 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:45:16 +0000] \"OPTIONS /api/get-user-containers HTTP/1.1\" 204 0 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/get-user-containers to http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers for local Function us-central1/getUserContainers
[debug] [2025-05-26T05:45:17.013Z] >>> [apiv2][query] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 
[debug] [2025-05-26T05:45:17.013Z] >>> [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[debug] [2025-05-26T05:45:17.020Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:45:17.020Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:45:17.021Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:45:17.020Z"],"workRunningCount":1}
[debug] [2025-05-26T05:45:17.022Z] Accepted request POST /outliner-d57b0/us-central1/getUserContainers/api/get-user-containers --> us-central1-getUserContainers
[debug] [2025-05-26T05:45:17.022Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:45:17.022Z] [functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers"}}
[debug] [2025-05-26T05:45:17.023Z] [worker-pool] submitRequest(triggerId=us-central1-getUserContainers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getUserContainers)"}}
[debug] [2025-05-26T05:45:17.023Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[warn] ⚠  functions: The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"message":"The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production."}}
[info] >  {"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Error getting user containers: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:379:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"} {"user":{"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Error getting user containers: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:379:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"error\":{\"code\":\"auth/argument-error\",\"message\":\"Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\"},\"severity\":\"ERROR\",\"message\":\"Error: Error getting user containers: Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\\n    at /workspace/functions/index.js:379:14\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\"}"}}
[debug] [2025-05-26T05:45:17.057Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:45:17.058Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:45:17.059Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:45:17.060Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:45:17.061Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:45:17.063Z] <<< [apiv2][status] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 500
[debug] [2025-05-26T05:45:17.064Z] <<< [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:45:17 +0000] "POST /api/get-user-containers HTTP/1.1" 500 41 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:45:17 +0000] \"POST /api/get-user-containers HTTP/1.1\" 500 41 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/fluid-token to http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken for local Function us-central1/fluidToken
[debug] [2025-05-26T05:50:41.354Z] >>> [apiv2][query] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token 
[debug] [2025-05-26T05:50:41.355Z] >>> [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token [stream]
[debug] [2025-05-26T05:50:41.360Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/fluidToken/api/fluid-token-2025-05-26T05:50:41.360Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:50:41.361Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/fluidToken/api/fluid-token-2025-05-26T05:50:41.360Z"],"workRunningCount":1}
[debug] [2025-05-26T05:50:41.361Z] Accepted request OPTIONS /outliner-d57b0/us-central1/fluidToken/api/fluid-token --> us-central1-fluidToken
[debug] [2025-05-26T05:50:41.362Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:50:41.362Z] [functions] Got req.url=/outliner-d57b0/us-central1/fluidToken/api/fluid-token, mapping to path=/api/fluid-token {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/fluidToken/api/fluid-token, mapping to path=/api/fluid-token"}}
[debug] [2025-05-26T05:50:41.363Z] [worker-pool] submitRequest(triggerId=us-central1-fluidToken) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-fluidToken)"}}
[debug] [2025-05-26T05:50:41.363Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[debug] [2025-05-26T05:50:41.368Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:50:41.368Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:50:41.369Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:50:41.369Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:50:41.369Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:50:41.370Z] <<< [apiv2][status] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token 204
[debug] [2025-05-26T05:50:41.371Z] <<< [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:50:41 +0000] "OPTIONS /api/fluid-token HTTP/1.1" 204 0 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:50:41 +0000] \"OPTIONS /api/fluid-token HTTP/1.1\" 204 0 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/fluid-token to http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken for local Function us-central1/fluidToken
[debug] [2025-05-26T05:50:41.855Z] >>> [apiv2][query] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token 
[debug] [2025-05-26T05:50:41.856Z] >>> [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token [stream]
[debug] [2025-05-26T05:50:41.860Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/fluidToken/api/fluid-token-2025-05-26T05:50:41.860Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:50:41.861Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/fluidToken/api/fluid-token-2025-05-26T05:50:41.860Z"],"workRunningCount":1}
[debug] [2025-05-26T05:50:41.862Z] Accepted request POST /outliner-d57b0/us-central1/fluidToken/api/fluid-token --> us-central1-fluidToken
[debug] [2025-05-26T05:50:41.862Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:50:41.863Z] [functions] Got req.url=/outliner-d57b0/us-central1/fluidToken/api/fluid-token, mapping to path=/api/fluid-token {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/fluidToken/api/fluid-token, mapping to path=/api/fluid-token"}}
[debug] [2025-05-26T05:50:41.864Z] [worker-pool] submitRequest(triggerId=us-central1-fluidToken) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-fluidToken)"}}
[debug] [2025-05-26T05:50:41.864Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[info] >  {"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Token validation error: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:241:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"} {"user":{"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Token validation error: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:241:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"error\":{\"code\":\"auth/argument-error\",\"message\":\"Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\"},\"severity\":\"ERROR\",\"message\":\"Error: Token validation error: Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\\n    at /workspace/functions/index.js:241:16\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\"}"}}
[debug] [2025-05-26T05:50:41.876Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:50:41.877Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:50:41.877Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:50:41.877Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:50:41.878Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:50:41.879Z] <<< [apiv2][status] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token 401
[debug] [2025-05-26T05:50:41.880Z] <<< [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:50:41 +0000] "POST /api/fluid-token HTTP/1.1" 401 33 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:50:41 +0000] \"POST /api/fluid-token HTTP/1.1\" 401 33 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/fluid-token to http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken for local Function us-central1/fluidToken
[debug] [2025-05-26T05:54:28.285Z] >>> [apiv2][query] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token 
[debug] [2025-05-26T05:54:28.286Z] >>> [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token [stream]
[debug] [2025-05-26T05:54:28.291Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/fluidToken/api/fluid-token-2025-05-26T05:54:28.291Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:54:28.292Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/fluidToken/api/fluid-token-2025-05-26T05:54:28.291Z"],"workRunningCount":1}
[debug] [2025-05-26T05:54:28.292Z] Accepted request OPTIONS /outliner-d57b0/us-central1/fluidToken/api/fluid-token --> us-central1-fluidToken
[debug] [2025-05-26T05:54:28.293Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:54:28.293Z] [functions] Got req.url=/outliner-d57b0/us-central1/fluidToken/api/fluid-token, mapping to path=/api/fluid-token {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/fluidToken/api/fluid-token, mapping to path=/api/fluid-token"}}
[debug] [2025-05-26T05:54:28.294Z] [worker-pool] submitRequest(triggerId=us-central1-fluidToken) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-fluidToken)"}}
[debug] [2025-05-26T05:54:28.294Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[debug] [2025-05-26T05:54:28.298Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:54:28.298Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:54:28.298Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:54:28.299Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:54:28.299Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:54:28.300Z] <<< [apiv2][status] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token 204
[debug] [2025-05-26T05:54:28.300Z] <<< [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:54:28 +0000] "OPTIONS /api/fluid-token HTTP/1.1" 204 0 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:54:28 +0000] \"OPTIONS /api/fluid-token HTTP/1.1\" 204 0 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/fluid-token to http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken for local Function us-central1/fluidToken
[debug] [2025-05-26T05:54:28.803Z] >>> [apiv2][query] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token 
[debug] [2025-05-26T05:54:28.804Z] >>> [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token [stream]
[debug] [2025-05-26T05:54:28.808Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/fluidToken/api/fluid-token-2025-05-26T05:54:28.808Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:54:28.809Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/fluidToken/api/fluid-token-2025-05-26T05:54:28.808Z"],"workRunningCount":1}
[debug] [2025-05-26T05:54:28.809Z] Accepted request POST /outliner-d57b0/us-central1/fluidToken/api/fluid-token --> us-central1-fluidToken
[debug] [2025-05-26T05:54:28.810Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:54:28.811Z] [functions] Got req.url=/outliner-d57b0/us-central1/fluidToken/api/fluid-token, mapping to path=/api/fluid-token {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/fluidToken/api/fluid-token, mapping to path=/api/fluid-token"}}
[debug] [2025-05-26T05:54:28.811Z] [worker-pool] submitRequest(triggerId=us-central1-fluidToken) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-fluidToken)"}}
[debug] [2025-05-26T05:54:28.812Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[info] >  {"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Token validation error: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:241:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"} {"user":{"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Token validation error: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:241:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"error\":{\"code\":\"auth/argument-error\",\"message\":\"Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\"},\"severity\":\"ERROR\",\"message\":\"Error: Token validation error: Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\\n    at /workspace/functions/index.js:241:16\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\"}"}}
[debug] [2025-05-26T05:54:28.823Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:54:28.824Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:54:28.824Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:54:28.825Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:54:28.825Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:54:28.828Z] <<< [apiv2][status] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token 401
[debug] [2025-05-26T05:54:28.829Z] <<< [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/fluidToken/api/fluid-token [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:54:28 +0000] "POST /api/fluid-token HTTP/1.1" 401 33 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:54:28 +0000] \"POST /api/fluid-token HTTP/1.1\" 401 33 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/get-user-containers to http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers for local Function us-central1/getUserContainers
[debug] [2025-05-26T05:57:03.552Z] >>> [apiv2][query] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 
[debug] [2025-05-26T05:57:03.552Z] >>> [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[debug] [2025-05-26T05:57:03.557Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:57:03.557Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:57:03.558Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:57:03.557Z"],"workRunningCount":1}
[debug] [2025-05-26T05:57:03.558Z] Accepted request OPTIONS /outliner-d57b0/us-central1/getUserContainers/api/get-user-containers --> us-central1-getUserContainers
[debug] [2025-05-26T05:57:03.559Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:57:03.559Z] [functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers"}}
[debug] [2025-05-26T05:57:03.560Z] [worker-pool] submitRequest(triggerId=us-central1-getUserContainers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getUserContainers)"}}
[debug] [2025-05-26T05:57:03.560Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[debug] [2025-05-26T05:57:03.564Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:57:03.565Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:57:03.565Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:57:03.565Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:57:03.565Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:57:03.567Z] <<< [apiv2][status] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 204
[debug] [2025-05-26T05:57:03.567Z] <<< [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:57:03 +0000] "OPTIONS /api/get-user-containers HTTP/1.1" 204 0 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:57:03 +0000] \"OPTIONS /api/get-user-containers HTTP/1.1\" 204 0 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/get-user-containers to http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers for local Function us-central1/getUserContainers
[debug] [2025-05-26T05:57:03.577Z] >>> [apiv2][query] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 
[debug] [2025-05-26T05:57:03.578Z] >>> [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[debug] [2025-05-26T05:57:03.581Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:57:03.581Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:57:03.582Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:57:03.581Z"],"workRunningCount":1}
[debug] [2025-05-26T05:57:03.582Z] Accepted request POST /outliner-d57b0/us-central1/getUserContainers/api/get-user-containers --> us-central1-getUserContainers
[debug] [2025-05-26T05:57:03.583Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:57:03.583Z] [functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers"}}
[debug] [2025-05-26T05:57:03.583Z] [worker-pool] submitRequest(triggerId=us-central1-getUserContainers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getUserContainers)"}}
[debug] [2025-05-26T05:57:03.584Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[info] >  {"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Error getting user containers: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:379:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"} {"user":{"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Error getting user containers: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:379:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"error\":{\"code\":\"auth/argument-error\",\"message\":\"Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\"},\"severity\":\"ERROR\",\"message\":\"Error: Error getting user containers: Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\\n    at /workspace/functions/index.js:379:14\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\"}"}}
[debug] [2025-05-26T05:57:03.593Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:57:03.593Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:57:03.594Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:57:03.594Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:57:03.595Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:57:03.596Z] <<< [apiv2][status] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 500
[debug] [2025-05-26T05:57:03.597Z] <<< [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:57:03 +0000] "POST /api/get-user-containers HTTP/1.1" 500 41 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:57:03 +0000] \"POST /api/get-user-containers HTTP/1.1\" 500 41 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/get-user-containers to http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers for local Function us-central1/getUserContainers
[debug] [2025-05-26T05:58:12.194Z] >>> [apiv2][query] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 
[debug] [2025-05-26T05:58:12.195Z] >>> [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[debug] [2025-05-26T05:58:12.200Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:58:12.200Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:58:12.201Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:58:12.200Z"],"workRunningCount":1}
[debug] [2025-05-26T05:58:12.202Z] Accepted request OPTIONS /outliner-d57b0/us-central1/getUserContainers/api/get-user-containers --> us-central1-getUserContainers
[debug] [2025-05-26T05:58:12.202Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:58:12.203Z] [functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers"}}
[debug] [2025-05-26T05:58:12.203Z] [worker-pool] submitRequest(triggerId=us-central1-getUserContainers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getUserContainers)"}}
[debug] [2025-05-26T05:58:12.204Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[debug] [2025-05-26T05:58:12.207Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:58:12.208Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:58:12.208Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:58:12.209Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:58:12.209Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:58:12.210Z] <<< [apiv2][status] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 204
[debug] [2025-05-26T05:58:12.210Z] <<< [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:58:12 +0000] "OPTIONS /api/get-user-containers HTTP/1.1" 204 0 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:58:12 +0000] \"OPTIONS /api/get-user-containers HTTP/1.1\" 204 0 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/get-user-containers to http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers for local Function us-central1/getUserContainers
[debug] [2025-05-26T05:58:12.231Z] >>> [apiv2][query] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 
[debug] [2025-05-26T05:58:12.232Z] >>> [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[debug] [2025-05-26T05:58:12.239Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:58:12.239Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:58:12.240Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers-2025-05-26T05:58:12.239Z"],"workRunningCount":1}
[debug] [2025-05-26T05:58:12.241Z] Accepted request POST /outliner-d57b0/us-central1/getUserContainers/api/get-user-containers --> us-central1-getUserContainers
[debug] [2025-05-26T05:58:12.242Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:58:12.243Z] [functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers, mapping to path=/api/get-user-containers"}}
[debug] [2025-05-26T05:58:12.243Z] [worker-pool] submitRequest(triggerId=us-central1-getUserContainers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getUserContainers)"}}
[debug] [2025-05-26T05:58:12.244Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[info] >  {"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Error getting user containers: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:379:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"} {"user":{"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Error getting user containers: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:379:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"error\":{\"code\":\"auth/argument-error\",\"message\":\"Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\"},\"severity\":\"ERROR\",\"message\":\"Error: Error getting user containers: Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\\n    at /workspace/functions/index.js:379:14\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\"}"}}
[debug] [2025-05-26T05:58:12.254Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:58:12.255Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:58:12.256Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:58:12.257Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:58:12.258Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:58:12.260Z] <<< [apiv2][status] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers 500
[debug] [2025-05-26T05:58:12.261Z] <<< [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/getUserContainers/api/get-user-containers [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:58:12 +0000] "POST /api/get-user-containers HTTP/1.1" 500 41 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:58:12 +0000] \"POST /api/get-user-containers HTTP/1.1\" 500 41 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/save-container to http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer for local Function us-central1/saveContainer
[debug] [2025-05-26T05:58:14.875Z] >>> [apiv2][query] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer/api/save-container 
[debug] [2025-05-26T05:58:14.876Z] >>> [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer/api/save-container [stream]
[debug] [2025-05-26T05:58:14.879Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/saveContainer/api/save-container-2025-05-26T05:58:14.879Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:58:14.879Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/saveContainer/api/save-container-2025-05-26T05:58:14.879Z"],"workRunningCount":1}
[debug] [2025-05-26T05:58:14.880Z] Accepted request OPTIONS /outliner-d57b0/us-central1/saveContainer/api/save-container --> us-central1-saveContainer
[debug] [2025-05-26T05:58:14.880Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:58:14.881Z] [functions] Got req.url=/outliner-d57b0/us-central1/saveContainer/api/save-container, mapping to path=/api/save-container {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/saveContainer/api/save-container, mapping to path=/api/save-container"}}
[debug] [2025-05-26T05:58:14.881Z] [worker-pool] submitRequest(triggerId=us-central1-saveContainer) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-saveContainer)"}}
[debug] [2025-05-26T05:58:14.882Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[debug] [2025-05-26T05:58:14.886Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:58:14.887Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:58:14.887Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:58:14.887Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:58:14.887Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:58:14.888Z] <<< [apiv2][status] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer/api/save-container 204
[debug] [2025-05-26T05:58:14.889Z] <<< [apiv2][body] OPTIONS http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer/api/save-container [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:58:14 +0000] "OPTIONS /api/save-container HTTP/1.1" 204 0 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:58:14 +0000] \"OPTIONS /api/save-container HTTP/1.1\" 204 0 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
[info] [hosting] Rewriting /api/save-container to http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer for local Function us-central1/saveContainer
[debug] [2025-05-26T05:58:14.929Z] >>> [apiv2][query] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer/api/save-container 
[debug] [2025-05-26T05:58:14.930Z] >>> [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer/api/save-container [stream]
[debug] [2025-05-26T05:58:14.934Z] [work-queue] {"queuedWork":["/outliner-d57b0/us-central1/saveContainer/api/save-container-2025-05-26T05:58:14.934Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:58:14.935Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/outliner-d57b0/us-central1/saveContainer/api/save-container-2025-05-26T05:58:14.934Z"],"workRunningCount":1}
[debug] [2025-05-26T05:58:14.935Z] Accepted request POST /outliner-d57b0/us-central1/saveContainer/api/save-container --> us-central1-saveContainer
[debug] [2025-05-26T05:58:14.936Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-05-26T05:58:14.936Z] [functions] Got req.url=/outliner-d57b0/us-central1/saveContainer/api/save-container, mapping to path=/api/save-container {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/outliner-d57b0/us-central1/saveContainer/api/save-container, mapping to path=/api/save-container"}}
[debug] [2025-05-26T05:58:14.937Z] [worker-pool] submitRequest(triggerId=us-central1-saveContainer) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-saveContainer)"}}
[debug] [2025-05-26T05:58:14.938Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: BUSY"}}
[info] >  {"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Error saving container ID: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:344:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"} {"user":{"error":{"code":"auth/argument-error","message":"Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token."},"severity":"ERROR","message":"Error: Error saving container ID: Firebase ID token has no \"kid\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/functions/index.js:344:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"},"metadata":{"emulator":{"name":"functions"},"message":"\u001b[90m> \u001b[39m {\"error\":{\"code\":\"auth/argument-error\",\"message\":\"Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\"},\"severity\":\"ERROR\",\"message\":\"Error: Error saving container ID: Firebase ID token has no \\\"kid\\\" claim. See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.\\n    at entryFromArgs (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:133:19)\\n    at Object.error (/workspace/functions/node_modules/firebase-functions/lib/logger/index.js:120:11)\\n    at /workspace/functions/index.js:344:14\\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\"}"}}
[debug] [2025-05-26T05:58:14.948Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=pause"}}
[debug] [2025-05-26T05:58:14.949Z] [worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~free~-27a4461b-f857-4acf-9d83-990b468796c8]: IDLE"}}
[debug] [2025-05-26T05:58:14.950Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=finish"}}
[debug] [2025-05-26T05:58:14.950Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"message":"Finishing up request with event=close"}}
[debug] [2025-05-26T05:58:14.951Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-05-26T05:58:14.954Z] <<< [apiv2][status] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer/api/save-container 500
[debug] [2025-05-26T05:58:14.955Z] <<< [apiv2][body] POST http://127.0.0.1:57070/outliner-d57b0/us-central1/saveContainer/api/save-container [stream]
[info] i  hosting: 127.0.0.1 - - [26/May/2025:05:58:14 +0000] "POST /api/save-container HTTP/1.1" 500 39 "http://localhost:7090/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [26/May/2025:05:58:14 +0000] \"POST /api/save-container HTTP/1.1\" 500 39 \"http://localhost:7090/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\""}}
