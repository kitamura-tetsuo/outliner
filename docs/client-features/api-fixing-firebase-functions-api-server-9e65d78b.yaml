id: API-0001
title: Fixing Firebase Functions API Server
description: Feature to fix errors during local testing of Firebase Functions API server so it operates correctly.
category: api-server
status: implemented
acceptance:
- CORS settings are configured correctly and cross-origin requests are processed normally
- Environment variables are loaded correctly and Azure Fluid Relay settings are applied
- Firebase Functions emulator starts normally
- Health check endpoint (/health) responds normally
- 'Port settings are configured correctly (Hosting: 57000)'
- Requests via Firebase Hosting are correctly routed to Functions
- Returns 400 error if required parameters are missing
- Returns 401 or 500 error if authentication fails
- Returns 405 error for invalid HTTP methods
- deleteContainer endpoint (/api/deleteContainer) handles auth errors appropriately
- deleteUser endpoint (/api/deleteUser) handles auth errors appropriately
- getUserContainers endpoint (/api/getUserContainers) handles auth errors appropriately
- save-container endpoint (/api/save-container) handles auth errors appropriately
tests:
- client/e2e/core/api-fixing-firebase-functions-api-server-9e65d78b.spec.ts
- functions/test/firebase-functions.test.js
components:
- client/.env.localhost.test
- firebase.json
- functions/.env
- functions/index.js
title-ja: Firebase Functions APIサーバーの修正
